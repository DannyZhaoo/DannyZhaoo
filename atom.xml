<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>流光</title>
  <subtitle>细数似水年华的美好</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http:/dannyzhaoo.github.io/"/>
  <updated>2017-10-11T09:40:33.000Z</updated>
  <id>http:/dannyzhaoo.github.io/</id>
  
  <author>
    <name>DannyZhao</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>javaScript编码</title>
    <link href="http:/dannyzhaoo.github.io/2017/10/11/javaScript%E7%BC%96%E7%A0%81/"/>
    <id>http:/dannyzhaoo.github.io/2017/10/11/javaScript编码/</id>
    <published>2017-10-11T09:10:21.000Z</published>
    <updated>2017-10-11T09:40:33.000Z</updated>
    
    <content type="html"><![CDATA[<p>javascript 的编码一般有三个，但是常用的是后面两种。</p>
<ol>
<li>escape()、unescape()</li>
</ol>
<p>这个是对字符串的编码，会返回一个字符的Unicode编码值。</p>
<p>escape()这个函数不对“+”编码，因为在提交表单的时候，空格会被转化为+字符。</p>
<p>这个函数现在已经不提倡使用。</p>
<ol>
<li>encodeURl()、decodeURl()</li>
</ol>
<p>对URL其中的某些字符将被十六进制的转义序列进行替换，不会对 ASCII 字母和数字进行编码，也不会对这些 ASCII 标点符号进行编码：;/?:@&amp;=+$,’#。</p>
<ol>
<li>encodeURlComponent()、decodeURlComponent()</li>
</ol>
<p>对URL其中的某些字符将被十六进制的转义序列进行替换，同时也能编码：;/?:@&amp;=+$,’#这些特殊字符。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;javascript 的编码一般有三个，但是常用的是后面两种。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;escape()、unescape()&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这个是对字符串的编码，会返回一个字符的Unicode编码值。&lt;/p&gt;
&lt;p&gt;escape()这个函数不对“+”编码，
    
    </summary>
    
      <category term="编程语言" scheme="http:/dannyzhaoo.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    
      <category term="JavaScript" scheme="http:/dannyzhaoo.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>Date对象的处理技巧</title>
    <link href="http:/dannyzhaoo.github.io/2017/10/11/Date%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%A4%84%E7%90%86%E6%8A%80%E5%B7%A7/"/>
    <id>http:/dannyzhaoo.github.io/2017/10/11/Date对象的处理技巧/</id>
    <published>2017-10-11T06:14:44.000Z</published>
    <updated>2017-10-11T09:25:21.000Z</updated>
    
    <content type="html"><![CDATA[<ul>
<li>获取当前所属的季度</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getSeason</span> (<span class="params">month</span>) </span>&#123;</div><div class="line">  	<span class="comment">//Math.ceil是向上取整</span></div><div class="line">  	<span class="keyword">return</span> <span class="built_in">Math</span>.ceil((month + <span class="number">1</span>) / <span class="number">3</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>判断一个数据是否为日期对象</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Object</span>.prototype.toString.call(dateObj) !== <span class="string">'[object Date]'</span></div></pre></td></tr></table></figure>
<ul>
<li>获取某年二月份的最后一天</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 方法一</span></div><div class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2017</span>, <span class="number">2</span>, <span class="number">0</span>);</div><div class="line"><span class="comment">// 方法二 60 * 60 * 24 * 1000</span></div><div class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2017</span>, <span class="number">2</span>, <span class="number">1</span>) - <span class="number">86400000</span>;</div><div class="line"><span class="comment">// 方法三</span></div><div class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2017</span>, <span class="number">2</span>, <span class="number">1</span>);</div><div class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(date.setDate(date.getDate() - <span class="number">1</span>));</div></pre></td></tr></table></figure>
<ul>
<li>获取当天时间的起始时间</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="comment">// 方法一 getMonth()得到的月份比正常少一</span></div><div class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(now.getFullYear() + <span class="string">'-'</span> + (now.getMonth() + <span class="number">1</span>) + <span class="string">'-'</span> + now.getDate() + <span class="string">':00:00:00'</span>);</div><div class="line"><span class="comment">// 方法二</span></div><div class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(now.getFullYear(), now.getMonth(), now.getDate());</div><div class="line"><span class="comment">// 方法3</span></div><div class="line"><span class="keyword">import</span> date <span class="keyword">from</span> <span class="string">'fecha'</span>;</div><div class="line">fecha.parse(<span class="keyword">new</span> <span class="built_in">Date</span>().toString(), <span class="string">'yyyy-MM-dd'</span>);</div></pre></td></tr></table></figure>
<p><em>注意：学习JavaScript的处理函数可以看fecha的源码。</em></p>
]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;获取当前所属的季度&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;l
    
    </summary>
    
      <category term="编程语言" scheme="http:/dannyzhaoo.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    
      <category term="JavaScript" scheme="http:/dannyzhaoo.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>阅读vue代码</title>
    <link href="http:/dannyzhaoo.github.io/2017/10/10/%E9%98%85%E8%AF%BBvue%E4%BB%A3%E7%A0%81/"/>
    <id>http:/dannyzhaoo.github.io/2017/10/10/阅读vue代码/</id>
    <published>2017-10-10T08:02:02.000Z</published>
    <updated>2017-10-10T12:42:53.000Z</updated>
    
    <content type="html"><![CDATA[<p>从今天开始我的目标就是读懂我们的公司项目的代码，在这里记录一下自己的阅读代码总结。</p>
<ol>
<li>首先是，先看一下<strong>线上作品</strong>，明白各部分的功能需求。（不懂的话，找测试或是产品经理了解）。</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;从今天开始我的目标就是读懂我们的公司项目的代码，在这里记录一下自己的阅读代码总结。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;首先是，先看一下&lt;strong&gt;线上作品&lt;/strong&gt;，明白各部分的功能需求。（不懂的话，找测试或是产品经理了解）。&lt;/li&gt;
&lt;/ol&gt;

    
    </summary>
    
      <category term="软技能" scheme="http:/dannyzhaoo.github.io/categories/%E8%BD%AF%E6%8A%80%E8%83%BD/"/>
    
    
      <category term="vue" scheme="http:/dannyzhaoo.github.io/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>git版本回退</title>
    <link href="http:/dannyzhaoo.github.io/2017/09/12/git%E7%89%88%E6%9C%AC%E5%9B%9E%E9%80%80/"/>
    <id>http:/dannyzhaoo.github.io/2017/09/12/git版本回退/</id>
    <published>2017-09-12T07:56:26.000Z</published>
    <updated>2017-09-12T09:14:02.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="reset"><a href="#reset" class="headerlink" title="reset"></a>reset</h1><p>回退git的版本提交的commit</p>
<p>参数:</p>
<p>—soft: 只改变本地仓库的提交点，而暂存区和工作区都不改变</p>
<p>—mixed: 改变本地仓库和暂存区，工作区不变</p>
<p>—hard: 本地仓库、暂存区、工作区全部改变</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span>回退最新的修改</div><div class="line">git reset --hard HEAD^</div><div class="line">git reset --hard HEAD~3</div><div class="line"><span class="meta">#</span>回退哈希值为3628164...的修改，注意3628164...之后的也被改变</div><div class="line">git reset --hard 3628164</div></pre></td></tr></table></figure>
<h1 id="revert"><a href="#revert" class="headerlink" title="revert"></a>revert</h1><p>回退git的版本，并把这次的回退作为一次修改提交。</p>
<p>用法同reset</p>
<h1 id="远程仓库回退"><a href="#远程仓库回退" class="headerlink" title="远程仓库回退"></a>远程仓库回退</h1><ol>
<li>在本地用resert，然后提交到远程仓库。（推荐）</li>
<li>在本地用reset，然后用<code>git push --force</code>。</li>
<li>在本地用reset，然后用删除远程的master分支<code>git push origin :master</code>，重建master分支<code>git push origin master</code>。</li>
</ol>
<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><ol>
<li>如果回退之后，又觉得以前写的是正确的，这次的回退是误操作，那怎么办呢?</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span>查看自己的电脑上的操作哈希值</div><div class="line"><span class="meta">$</span> git reflog</div><div class="line"><span class="meta">#</span>再重新调整git的HEAD</div><div class="line"><span class="meta">$</span> git reset --hard a123456</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;reset&quot;&gt;&lt;a href=&quot;#reset&quot; class=&quot;headerlink&quot; title=&quot;reset&quot;&gt;&lt;/a&gt;reset&lt;/h1&gt;&lt;p&gt;回退git的版本提交的commit&lt;/p&gt;
&lt;p&gt;参数:&lt;/p&gt;
&lt;p&gt;—soft: 只改变本地仓库的提交点，而暂存
    
    </summary>
    
      <category term="开发工具" scheme="http:/dannyzhaoo.github.io/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="git" scheme="http:/dannyzhaoo.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>浏览器调试</title>
    <link href="http:/dannyzhaoo.github.io/2017/09/11/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%B0%83%E8%AF%95/"/>
    <id>http:/dannyzhaoo.github.io/2017/09/11/浏览器调试/</id>
    <published>2017-09-11T10:48:25.000Z</published>
    <updated>2017-09-11T11:07:38.000Z</updated>
    
    <content type="html"><![CDATA[<p>今天在写CKeditor的插件时，有一个问题一直报错，而只是单纯用<code>console.log</code>已经不管用了。</p>
<p>所以就问了一下，下面记录一下。</p>
<ol>
<li>简单的就是在文本中添加<code>console.log</code>，查看相应的值。一般这种适应于<strong>非引用类型</strong>来检查。</li>
<li>结合浏览器的<code>console</code>，查看报错的地方在哪些地方。在相应的地方（即source下），加上断点，结合右边<strong>watch</strong>、<strong>call</strong> <strong>stack</strong>、<strong>scope</strong>来进行查看。</li>
<li>跟后端的交互时，在network下就很管用。Headers下面的general和response是服务器对后端的返回。属于http协议部分。</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;今天在写CKeditor的插件时，有一个问题一直报错，而只是单纯用&lt;code&gt;console.log&lt;/code&gt;已经不管用了。&lt;/p&gt;
&lt;p&gt;所以就问了一下，下面记录一下。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;简单的就是在文本中添加&lt;code&gt;console.log&lt;/code&gt;，
    
    </summary>
    
      <category term="Chrome" scheme="http:/dannyzhaoo.github.io/categories/Chrome/"/>
    
    
      <category term="调试工具" scheme="http:/dannyzhaoo.github.io/tags/%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>ES6部分知识点</title>
    <link href="http:/dannyzhaoo.github.io/2017/09/06/ES6%E9%83%A8%E5%88%86%E7%9F%A5%E8%AF%86%E7%82%B9/"/>
    <id>http:/dannyzhaoo.github.io/2017/09/06/ES6部分知识点/</id>
    <published>2017-09-06T02:50:40.000Z</published>
    <updated>2017-09-06T03:19:21.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="rest参数"><a href="#rest参数" class="headerlink" title="rest参数"></a>rest参数</h1><p>rest参数我也是第一次看到，形为<code>...变量名</code>，用于获取函数多余的参数。</p>
<p>就是说，可以用这个获取函数传过来的所有参数，而我们可以通过遍历<code>变量名</code>来进行自己想要进行的操作。</p>
<p>rest参数中的变量其实就是一个数组，所以也可以进行关于数组的任何操作。</p>
<p><strong>注意：</strong>rest参数只能是最后一个参数。不然会报错的。</p>
<h1 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign()"></a>Object.assign()</h1><p>这个方法是ES6新的语法，是用于将对象合并起来。</p>
<p>参数是对象，可以有很多。但是默认第一个对象是目标对象，后面全都是源对象。</p>
<p>这样做的目的是把源对象里面可枚举的属性都复制到目标对象里面。</p>
<p>这个的返回值，如果参数只有目标对象，则返回目标对象，如果还有别的可用参数，则返回新的合并起来的对象。</p>
<p>这里面这个方法实行的是<strong>浅拷贝</strong>。如果源对象某个属性的值是对象，那么目标对象拷贝得到的是这个对象的引用。该注意就要注意到。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;rest参数&quot;&gt;&lt;a href=&quot;#rest参数&quot; class=&quot;headerlink&quot; title=&quot;rest参数&quot;&gt;&lt;/a&gt;rest参数&lt;/h1&gt;&lt;p&gt;rest参数我也是第一次看到，形为&lt;code&gt;...变量名&lt;/code&gt;，用于获取函数多余的参数。&lt;/p&gt;

    
    </summary>
    
      <category term="编程语言" scheme="http:/dannyzhaoo.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    
      <category term="JavaScript" scheme="http:/dannyzhaoo.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>setTimeout用法</title>
    <link href="http:/dannyzhaoo.github.io/2017/09/06/setTimeout%E7%94%A8%E6%B3%95/"/>
    <id>http:/dannyzhaoo.github.io/2017/09/06/setTimeout用法/</id>
    <published>2017-09-06T02:38:25.000Z</published>
    <updated>2017-09-06T02:42:31.000Z</updated>
    
    <content type="html"><![CDATA[<p>setTimeout 永远是里面的函数一执行完，就被销毁。</p>
<p>而clearTimeout是在setTimeout里面的函数没被执行的时候就销毁。</p>
<p>setTimeout同时还有别的作用就是这个里面的函数是在所有同步的函数执行完后，才开始执行。相当于改变了代码的执行顺序。</p>
<p>这样做目前的作用是DOM需要绑定这个函数，然而在执行的时候，DOM没有渲染完，函数无法找到DOM，所以需要滞后调用。</p>
<p>而在setTimeout里面写推迟执行的时间，也不是准确的时间。是在所有的函数执行完后才开始计时，这样的计时当然不准。只能做大概推测。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;setTimeout 永远是里面的函数一执行完，就被销毁。&lt;/p&gt;
&lt;p&gt;而clearTimeout是在setTimeout里面的函数没被执行的时候就销毁。&lt;/p&gt;
&lt;p&gt;setTimeout同时还有别的作用就是这个里面的函数是在所有同步的函数执行完后，才开始执行。相当于改
    
    </summary>
    
      <category term="编程语言" scheme="http:/dannyzhaoo.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    
      <category term="JavaScript" scheme="http:/dannyzhaoo.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>进度审核</title>
    <link href="http:/dannyzhaoo.github.io/2017/09/05/%E8%BF%9B%E5%BA%A6%E5%AE%A1%E6%A0%B8/"/>
    <id>http:/dannyzhaoo.github.io/2017/09/05/进度审核/</id>
    <published>2017-09-05T11:56:07.000Z</published>
    <updated>2017-09-05T12:04:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>每个周五离开公司之前，产品经理和技术部门一定都会过一下进度。我刚来，不知道为什么做这个，有时候还会觉得很麻烦。但是最近的阅读的书让我渐渐明白这个的作用。</p>
<p>在此写下来，以后再发现再补充。</p>
<ol>
<li>了解最新进展</li>
<li>确定技术点不遗漏</li>
<li>评估风险点</li>
</ol>
<p>产品不是技术，不能对所有的内容都面面俱到，同时也需要大家相互了解一下进度，了解团队情况。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;每个周五离开公司之前，产品经理和技术部门一定都会过一下进度。我刚来，不知道为什么做这个，有时候还会觉得很麻烦。但是最近的阅读的书让我渐渐明白这个的作用。&lt;/p&gt;
&lt;p&gt;在此写下来，以后再发现再补充。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;了解最新进展&lt;/li&gt;
&lt;li&gt;确定技术点不遗漏
    
    </summary>
    
      <category term="软技能" scheme="http:/dannyzhaoo.github.io/categories/%E8%BD%AF%E6%8A%80%E8%83%BD/"/>
    
    
      <category term="团队沟通" scheme="http:/dannyzhaoo.github.io/tags/%E5%9B%A2%E9%98%9F%E6%B2%9F%E9%80%9A/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript规范</title>
    <link href="http:/dannyzhaoo.github.io/2017/09/05/JavaScript%E8%A7%84%E8%8C%83/"/>
    <id>http:/dannyzhaoo.github.io/2017/09/05/JavaScript规范/</id>
    <published>2017-09-05T01:21:59.000Z</published>
    <updated>2017-09-05T01:57:10.000Z</updated>
    
    <content type="html"><![CDATA[<p>进入公司学习，平时最大的问题除了自己需要学习很多东西外，就是各种代码的缩进和空格等问题。所以在此记录一下自己一直出错的问题。</p>
<h1 id="三元运算符"><a href="#三元运算符" class="headerlink" title="三元运算符"></a>三元运算符</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 三元运算符由3部分组成，因此其换行应当根据每个部分的长度不同，形成不同的情况。</span></div><div class="line"><span class="keyword">var</span> result = thisIsAVeryVeryLongCondition</div><div class="line">    ? resultA : resultB;</div><div class="line"></div><div class="line"><span class="keyword">var</span> result = condition</div><div class="line">    ? thisIsAVeryVeryLongResult</div><div class="line">    : resultB;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;进入公司学习，平时最大的问题除了自己需要学习很多东西外，就是各种代码的缩进和空格等问题。所以在此记录一下自己一直出错的问题。&lt;/p&gt;
&lt;h1 id=&quot;三元运算符&quot;&gt;&lt;a href=&quot;#三元运算符&quot; class=&quot;headerlink&quot; title=&quot;三元运算符&quot;&gt;&lt;/a&gt;三
    
    </summary>
    
      <category term="前端标准/规范" scheme="http:/dannyzhaoo.github.io/categories/%E5%89%8D%E7%AB%AF%E6%A0%87%E5%87%86-%E8%A7%84%E8%8C%83/"/>
    
    
  </entry>
  
  <entry>
    <title>hexo利用不同分支在不同的电脑上写作</title>
    <link href="http:/dannyzhaoo.github.io/2017/09/04/hexo%E5%88%A9%E7%94%A8%E4%B8%8D%E5%90%8C%E5%88%86%E6%94%AF%E5%9C%A8%E4%B8%8D%E5%90%8C%E7%9A%84%E7%94%B5%E8%84%91%E4%B8%8A%E5%86%99%E4%BD%9C/"/>
    <id>http:/dannyzhaoo.github.io/2017/09/04/hexo利用不同分支在不同的电脑上写作/</id>
    <published>2017-09-04T10:20:19.000Z</published>
    <updated>2017-09-05T11:34:03.000Z</updated>
    
    <content type="html"><![CDATA[<p>我在面对这个问题的时候，其实考虑过放弃GitHub Page，去转而用更方便的现成的博客平台。然而经过对比，还有结合我这个写博客的特点，其实还是用<strong>markdown</strong>最方便。</p>
<p>还有毕竟自己是个程序员，什么都是自己可控的，这对自己还是有不小的吸引力的。</p>
<p>当时我的情况是：</p>
<p>我一直在windows上写东西，但是最近我到公司发了新的电脑，我在GitHub Page上的是用hexo生成后的代码。这样就算我clone下来，也没有自己原来配置的内容。</p>
<p>这样的情况下，我在网上查到可以用这个仓库的另外一个分支保存源码的方式。我就照着做了，大概用了两三个小时，踩了不少坑。</p>
<ol>
<li><p>在本地新建一个分支。</p>
</li>
<li><p>把这个分支推到GitHub上。<br>当然在这个之前，你得确保把这个文件夹都<code>git init</code>过了，而且添加了<code>git remote</code>。</p>
</li>
<li><p>把这个新建的分支设置成默认分支。</p>
</li>
</ol>
<p>在新的电脑上</p>
<ol>
<li>从clone这个仓库</li>
<li><p>用npm下载hexo-cli，hexo，hexo-deployer-git</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">npm install hexo-cli -g</div><div class="line">npm install hexo</div><div class="line">npm install</div><div class="line">npm install hexo-deployer-git –-save</div></pre></td></tr></table></figure>
</li>
<li><p>切记下载主题git clone <a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">https://github.com/iissnan/hexo-theme-next</a> themes/next</p>
</li>
<li>按照需要<strong>设置主题</strong>，这个不会在git上有记录。</li>
</ol>
<p>最后切记自己遇到问题，不要一切就真的推翻重做，其实再查查就成功了。或者倒退几步，但是真的不用全部重新来过。</p>
<p>这个步骤是我后来总结的，我自己做的时候一直有问题，然后就一直查。而且每个电脑环境不同，遇到的问题也不同，一定不要全部推翻重做！！！</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;我在面对这个问题的时候，其实考虑过放弃GitHub Page，去转而用更方便的现成的博客平台。然而经过对比，还有结合我这个写博客的特点，其实还是用&lt;strong&gt;markdown&lt;/strong&gt;最方便。&lt;/p&gt;
&lt;p&gt;还有毕竟自己是个程序员，什么都是自己可控的，这对自己还
    
    </summary>
    
      <category term="开发工具" scheme="http:/dannyzhaoo.github.io/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="git" scheme="http:/dannyzhaoo.github.io/tags/git/"/>
    
      <category term="hexo" scheme="http:/dannyzhaoo.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>ps技能---切图</title>
    <link href="http:/dannyzhaoo.github.io/2017/06/11/ps%E6%8A%80%E8%83%BD-%E5%88%87%E5%9B%BE/"/>
    <id>http:/dannyzhaoo.github.io/2017/06/11/ps技能-切图/</id>
    <published>2017-06-11T02:37:48.000Z</published>
    <updated>2017-09-05T11:43:52.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h2><ol>
<li>从psd中 <strong>获取</strong>网页前端开发过程中所需要的资源。</li>
<li>简单photoshop操作。</li>
<li>简单图片的处理和调整。</li>
<li>提高审美和美感。</li>
</ol>
<h2 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h2><h2 id="传统切图"><a href="#传统切图" class="headerlink" title="传统切图"></a>传统切图</h2><h2 id="精准切图"><a href="#精准切图" class="headerlink" title="精准切图"></a>精准切图</h2><h2 id="扩展知识"><a href="#扩展知识" class="headerlink" title="扩展知识"></a>扩展知识</h2><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;目标&quot;&gt;&lt;a href=&quot;#目标&quot; class=&quot;headerlink&quot; title=&quot;目标&quot;&gt;&lt;/a&gt;目标&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;从psd中 &lt;strong&gt;获取&lt;/strong&gt;网页前端开发过程中所需要的资源。&lt;/li&gt;
&lt;li&gt;简单photoshop操作
    
    </summary>
    
      <category term="切页面" scheme="http:/dannyzhaoo.github.io/categories/%E5%88%87%E9%A1%B5%E9%9D%A2/"/>
    
    
      <category term="Photoshop" scheme="http:/dannyzhaoo.github.io/tags/Photoshop/"/>
    
  </entry>
  
  <entry>
    <title>安装Gitbook</title>
    <link href="http:/dannyzhaoo.github.io/2017/06/08/%E5%AE%89%E8%A3%85Gitbook/"/>
    <id>http:/dannyzhaoo.github.io/2017/06/08/安装Gitbook/</id>
    <published>2017-06-08T13:25:35.000Z</published>
    <updated>2017-09-05T11:35:11.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Gitbook安装"><a href="#Gitbook安装" class="headerlink" title="Gitbook安装"></a>Gitbook安装</h2><p>安装gitbook的前提是已经安装过nodejs</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//安装gitbook</div><div class="line">D:&gt; npm install gitbook-cli -g</div><div class="line">//验证</div><div class="line">D:&gt;	gitbook -v</div></pre></td></tr></table></figure>
<h2 id="图书编辑"><a href="#图书编辑" class="headerlink" title="图书编辑"></a>图书编辑</h2><h3 id="先建立SUMMARY-md"><a href="#先建立SUMMARY-md" class="headerlink" title="先建立SUMMARY.md"></a>先建立SUMMARY.md</h3><p>这个文件是一本书的目录结构，使用markdown语法，这个文件在使用gitbook命令行之前要先写好，以便之后生成书的目录。例如：</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="bullet">* </span>[<span class="string">基本安装</span>](<span class="link">howtouse/README.md</span>)</div><div class="line"> - [<span class="string">Node.js安装</span>](<span class="link">howtouse/Nodejsinstall.md</span>)</div><div class="line"> - [<span class="string">Gitbook安装</span>](<span class="link">howtouse/gitbookinstall.md</span>)</div><div class="line"> - [<span class="string">Gitbook命令行速览</span>](<span class="link">howtouse/gitbookcli.md</span>)</div><div class="line"><span class="bullet">* </span>[<span class="string">图书编辑</span>](<span class="link">book/README.md</span>)</div><div class="line"> - [<span class="string">gitbook命令行&amp;markdown编辑</span>](<span class="link">book/gitbook-cli.md</span>)</div><div class="line"> - [<span class="string">gitbook editor编辑</span>](<span class="link">book/editor.md</span>)</div><div class="line"><span class="bullet">* </span>[<span class="string">图书输出</span>](<span class="link">output/README.md</span>)</div><div class="line"> - [<span class="string">输出为静态网站</span>](<span class="link">output/outfile.md</span>)</div><div class="line"> - [<span class="string">输出PDF</span>](<span class="link">output/pdfandebook.md</span>)</div><div class="line"><span class="bullet">* </span>[<span class="string">发布</span>](<span class="link">publish/README.md</span>)</div><div class="line">  - [<span class="string">发布到gitbook.com</span>](<span class="link">publish/gitbook.md</span>)</div><div class="line">  - [<span class="string">Github集成</span>](<span class="link">publish/github.md</span>)</div><div class="line">  - [<span class="string">发布到Github Pages</span>](<span class="link">publish/gitpages.md</span>)</div><div class="line"><span class="bullet">* </span>[<span class="string">结束</span>](<span class="link">end/README.md</span>)</div></pre></td></tr></table></figure>
<p>列表加链接，链接中可以使用目录，也可以不必使用。</p>
<h2 id="书籍目录初始化-amp-内容编写"><a href="#书籍目录初始化-amp-内容编写" class="headerlink" title="书籍目录初始化&amp;内容编写"></a>书籍目录初始化&amp;内容编写</h2><p>在存书籍的目录下，先建立了<code>SUMMARY.md</code>，然后用<code>gitbook init</code>，就会生成一系列目录文件。</p>
<h2 id="图书输出"><a href="#图书输出" class="headerlink" title="图书输出"></a>图书输出</h2><h3 id="输出为静态网站"><a href="#输出为静态网站" class="headerlink" title="输出为静态网站"></a>输出为静态网站</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">//在目录文件下</div><div class="line">gitbook serve .</div><div class="line">gitbook serve ./</div></pre></td></tr></table></figure>
<p>之后就可以在自己浏览器输入<code>http://localhost:4000</code>来查看。</p>
<p>这里你会发现，你在你的图书项目的目录中多了一个名为<code>_book</code>的文件目录，而这个目录中的文件，即是生成的静态网站内容。</p>
<h4 id="使用build参数生成到指定目录"><a href="#使用build参数生成到指定目录" class="headerlink" title="使用build参数生成到指定目录"></a>使用build参数生成到指定目录</h4><ol>
<li>mkdir outbook</li>
<li>cd..,退到上一层目录，即E:\gitbook (如果不，会出错)</li>
<li>然后,E:\gitbook&gt;gitbook build gitbook-studying gitbook-studying/outbook</li>
<li>则在 E:\gitbook\gitbook-studying\outbook下生成了同样的静态html文件</li>
</ol>
<h3 id="输出pdf"><a href="#输出pdf" class="headerlink" title="输出pdf"></a>输出pdf</h3><p>输出pdf文件步骤如下:</p>
<ol>
<li>由于生成PDF文件依赖于<code>ebook-convert</code>，故首先在该处<a href="http://calibre-ebook.com/download" target="_blank" rel="external">ebook-convert下载链接</a>点击下载所需要的版本，安装即可;</li>
<li>打开cmd，进入E:\gitbook目录;</li>
<li>E:\gitbook&gt;gitbook pdf gitbook-studying gitbook-studying/gitbook入门教程.pdf</li>
<li>则在目录E:\gitbook\gitbook-studying下生成了该pdf文件</li>
</ol>
<p>然后，你会发现你的目录里多了一个名为<code>gitbook入门教程.pdf</code>的文件，就是它了！</p>
<h2 id="发布"><a href="#发布" class="headerlink" title="发布"></a>发布</h2><h3 id="发布到gitbook-com"><a href="#发布到gitbook-com" class="headerlink" title="发布到gitbook.com"></a>发布到gitbook.com</h3><p>先在线创建一个书的仓库，然后用git来管理。</p>
<ol>
<li>首先打开cmd，进入书籍目录，E:\gitbook\gitbook-studying;</li>
<li>运行E:\gitbook\gitbook-studying&gt;<code>git init</code>，这里如果git提示错误，则是没配置git的环境变量的path；</li>
<li>将目录的章节文件夹一个个加进，git里，使用<code>git add 文件夹名</code>;</li>
<li>接下来，<code>git commit -m &quot;提交信息(必填，否则出错)&quot;</code>;</li>
<li>然后，将本地的git 仓库与gitbook.com上远程仓库连接，<code>git remote add gitbook https://git.gitbook.com/yuzeshan/gitbook-studying.git</code>(注意:不是github上的git remote add origin git@….);</li>
<li>最后，将本地仓库全部push到远程，<code>git push -u gitbook master</code>，以后每次更改，然后add再commit，而第二次push时，直接<code>git push gitbook master</code>即可</li>
</ol>
<p>提交到 GitBook.com 后，书籍就自动发布了，用户就可以通过书籍的地址访问了，例如：<a href="http://yuzeshan.gitbooks.io/gitbook-studying/content/" target="_blank" rel="external">http://yuzeshan.gitbooks.io/gitbook-studying/content/</a></p>
<p><strong>ps:如果本地没有git初始化过得仓库，则可以将在线建立的仓库，克隆到本地，进行修改，提交，push，简洁步骤如下:</strong></p>
<ol>
<li>首先进入想要建立书籍的目录，这里是E:\gitbook\gitbook-studying；</li>
<li>运行命令<code>git clone https://git.gitbook.com/yuzeshan/gitbook-studying.git</code>;</li>
<li>然后，通过之前介绍的书籍编辑:gitbook init,gitbook serve 等方法，编辑好书籍后，再用git命令add commit添加提交书籍目录文件；</li>
<li>最后，<code>git push gitbook master</code>即可。</li>
</ol>
<h3 id="发布到github仓库"><a href="#发布到github仓库" class="headerlink" title="发布到github仓库"></a>发布到github仓库</h3><ol>
<li>首先在github上建立相应的仓库。</li>
<li>创建一个新的文件，在里面运行命令 <code>$git clone git@github.com:yuzeshan/gitbook-studying.git</code>。</li>
<li>进入到这个<code>gitbook-studying</code>文件里。</li>
<li>到Gitbook.com页面，将书籍的 Git 项目设置为 GitHub 上的项目。</li>
<li>保存后，可以看到之前不可点击的 “Add a deployment webhook” 按钮已经可以点击了，这个按钮表示：每当用户配置的 GitHub 上的项目更新时，自动更新Gitbook.com书籍</li>
<li>将之前编辑的书籍目录为<code>E:\gitbook\gitbook-studying</code>中除.git文件，全部拷贝到克隆的目录中，即<code>E:\gitbook\gitbook-studying-github\gitbook-studying</code>中；</li>
<li>将已经编辑好的书籍文件，用git add/commit命令依次添加，提交后;</li>
<li>接下来将书籍仓库与远程github连接到一起，运行命令:<code>git remote add github https://github.com//yuzeshan/gitbook-studying.git</code>(注意:并不是<code>git remote add origin https://github.com:yuzeshan/gitbook-studying.git</code>,也许不运行此命令也可，因为克隆的文件本身就关联了，未尝试。。。)；</li>
<li>最后，将书籍仓库push到github仓库上，运行命令：<code>git push -u github master</code>;</li>
<li>git push 命令中的 -u 表示将本地 master 分支的上游分支设置为 github/master，所以以后修改了本地 master 分支后，git push 将推送到 github 上，而非原来的 <code>git remote add gitbook https://git.gitbook.com/yuzeshan/gitbook-studying.git</code>。</li>
</ol>
<h3 id="发布到GitHub-Pages"><a href="#发布到GitHub-Pages" class="headerlink" title="发布到GitHub Pages"></a>发布到GitHub Pages</h3><p>在自己的代码仓库里添加一个GitHub  Pages静态文件。</p>
<ol>
<li>创建一个空仓库</li>
<li>克隆到本地</li>
<li>创建一个新分支<code>git checkout -b gh-pages</code>，注意，分支必须为 <strong>gh-pages</strong>。</li>
<li>将分支push到仓库 <code>git push -u origin gh-pages</code>。</li>
<li>切换到主分支 <code>git checkout master</code>。</li>
<li>克隆 <code>gh-pages</code>分支 <code>git clone -b gh-pages git@github.com:USERNAME/book.git book-end</code>。这步克隆 <code>gh-pages</code>分支并存放在 <code>book-end</code>目录中。</li>
<li>而且只能copy，用build会把git信息去掉。</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Gitbook安装&quot;&gt;&lt;a href=&quot;#Gitbook安装&quot; class=&quot;headerlink&quot; title=&quot;Gitbook安装&quot;&gt;&lt;/a&gt;Gitbook安装&lt;/h2&gt;&lt;p&gt;安装gitbook的前提是已经安装过nodejs&lt;/p&gt;
&lt;figure class
    
    </summary>
    
      <category term="开发工具" scheme="http:/dannyzhaoo.github.io/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="gitbook" scheme="http:/dannyzhaoo.github.io/tags/gitbook/"/>
    
  </entry>
  
  <entry>
    <title>代码的组织和部署</title>
    <link href="http:/dannyzhaoo.github.io/2017/06/08/%E4%BB%A3%E7%A0%81%E7%9A%84%E7%BB%84%E7%BB%87%E5%92%8C%E9%83%A8%E7%BD%B2/"/>
    <id>http:/dannyzhaoo.github.io/2017/06/08/代码的组织和部署/</id>
    <published>2017-06-08T01:04:29.000Z</published>
    <updated>2017-09-05T11:37:22.000Z</updated>
    
    <content type="html"><![CDATA[<p>使用NodeJS编写程序前，为了有个良好的开端，首先需要准备好代码的目录结构和部署方式。</p>
<h2 id="模块路径解析规则"><a href="#模块路径解析规则" class="headerlink" title="模块路径解析规则"></a>模块路径解析规则</h2><p><code>require</code>函数支持绝对路径、也支持相对路径。但是这两种路径在模块之间建立了强耦合关系，一点某个模块文件的存放位置需要变更，使用该模块的其他模块的代码也需要跟着调整。因此，<code>require</code>函数支持第三种形式的路径，写法类似于<code>foo/bar</code>，并依次按照以下规则解析路径，直到找到模块的位置。</p>
<h3 id="内置模块"><a href="#内置模块" class="headerlink" title="内置模块"></a>内置模块</h3><p>如果传递给<code>require</code>函数的是NodeJS内置模块名称，不做路径解析，直接返回内部模块的导出对象，例如<code>require(&#39;fs&#39;)</code>。</p>
<h3 id="node-modules目录"><a href="#node-modules目录" class="headerlink" title="node_modules目录"></a>node_modules目录</h3><p>NodeJS定义了一个特殊的<code>node_modules</code>目录用于存放模块。例如某个模块的绝对路径为<code>/home/user/hello.js</code>，在该模块中使用<code>require(&#39;foo/bar&#39;)</code>方式加载模块时，则NodeJS依次尝试使用以下路径。</p>
<blockquote>
<p>/home/user/node_modules/foo/bar</p>
<p>/home/node_modules/foo/bar</p>
<p>/node_modules/foo/bar</p>
</blockquote>
<h3 id="NODE-PATH环境变量"><a href="#NODE-PATH环境变量" class="headerlink" title="NODE_PATH环境变量"></a>NODE_PATH环境变量</h3><p>与PATH环境变量类似，NodeJS允许通过NODE_PATH环境变量来指定额外的模块搜索路径。NODE_PATH环境变量中包含一到多个目录路径，路径之间在Linux下使用<code>:</code>分隔，在Windows下使用<code>;</code>分隔。例如定义了以下NODE_PATH环境变量:</p>
<blockquote>
<p>NODE_PATH=/home/user/lib:/home/lib</p>
</blockquote>
<p>当使用<code>require(&#39;foo/bar&#39;)</code>的方式加载模块时，则NodeJS依次尝试以下路径。</p>
<blockquote>
<p>/home/user/lib/foo/bar</p>
<p>/home/lib/foo/bar</p>
</blockquote>
<h2 id="包"><a href="#包" class="headerlink" title="包"></a>包</h2><p>JS模块的基本单位是单个JS文件，但复杂些的模块往往由多个子模块组成。为了便于管理和使用，我们可以把有多个子模块组成的大模块称作<strong>包</strong>，并把所有子模块放在同一个目录里。</p>
<p>在组成一个包的所有子模块中，需要有一个入口模块。入口模块的导出对象被作为包的导出对象。例如有以下目录结构：</p>
<blockquote>
<p>- /home/user/lib/<br>​    - cat/<br>​        head.js<br>​        body.js<br>​        main.js</p>
</blockquote>
<p>其中<code>cat</code>目录定义了一个包，其中包含了3个子模块。<code>main.js</code>作为入口模块，其内容如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> head = <span class="built_in">require</span>(<span class="string">'./head'</span>);</div><div class="line"><span class="keyword">var</span> body = <span class="built_in">require</span>(<span class="string">'./body'</span>);</div><div class="line"></div><div class="line">exports.create = <span class="function"><span class="keyword">function</span> (<span class="params">name</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        name: name,</div><div class="line">        head: head.create(),</div><div class="line">        body: body.create()</div><div class="line">    &#125;;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>在其他模块里使用包的时候，需要加载包的入口模块。接着上例，使用<code>require(&#39;/home/user/lib/cat/main&#39;)</code>能达到目的，但是入口模块名称出现在路径里看上去不是个好主意。因此我们需要做点额外的工作，让包使用起来更像是单个模块。</p>
<h3 id="index-js"><a href="#index-js" class="headerlink" title="index.js"></a>index.js</h3><p>当模块的文件名是<code>index.js</code>，加载模块时可以使用模块所在目录的路径代替模块文件路径，因此接着上例，以下两条语句等价：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> cat = <span class="built_in">require</span>(<span class="string">'/home/user/lib/cat'</span>)</div><div class="line"><span class="keyword">var</span> cat = <span class="built_in">require</span>(<span class="string">'/home/user/lib/cat/index'</span>)</div></pre></td></tr></table></figure>
<p>这样处理后，就只需要把包目录路径传递给<code>require</code>函数，感觉上整个目录被当作单个模块使用，更有整体感。</p>
<h3 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h3><p>如果想自定义入口模块的文件名和存放位置，就需要在包目录下包含一个<code>package.json</code>文件，并在其中指定入口模块的路径。上例中<code>cat</code>模块可以重构如下：</p>
<blockquote>
<p>- /home/user/lib/<br>​    -  cat/<br>​        + doc/<br>​        - lib/<br>​            head.js<br>​            body.js<br>​            main.js<br>​        + tests/<br>​        package.json</p>
</blockquote>
<p>其中<code>package.json</code>内容如下：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">"name"</span>: <span class="string">"cat"</span>,</div><div class="line">    <span class="attr">"main"</span>: <span class="string">"./lib/main.js"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如此一来，就可以使用<code>require(&#39;/home/user/lib/cat&#39;)</code>的方式加载模块。NodeJS会根据包目录下的<code>package.json</code>找到入口模块所在位置。</p>
<h2 id="命令行程序"><a href="#命令行程序" class="headerlink" title="命令行程序"></a>命令行程序</h2><p>使用NodeJS编写的东西，要么是一个包，要么是一个命令行程序，而前者最终也会用于开发后者。因此我们在部署代码的时候需要一些技巧，让用户觉得自己是在使用一个命令行程序。</p>
<p>例如我们用NodeJS写了个程序，可以把命令行参数原样打印出来。该程序很简单，在主模块内实现了所有的功能。并且写好后，我们该把程序部署在<code>/home/user/bin/node-echo.js</code>这个位置。为了在任何目录下都能运行该程序，我们需要使用以下终端命令。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span> node /home/user/bin/node-echo.js Hello World</div><div class="line">Hello World</div></pre></td></tr></table></figure>
<p>这种使用方式看起来不怎么像是一个命令行程序，下面的才是我们期望的方式。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span> node-echo Hello World</div></pre></td></tr></table></figure>
<h3 id="linux"><a href="#linux" class="headerlink" title="linux"></a>linux</h3><p>在Linux系统下，我们可以把JS文件当作shell脚本来运行，从而达到上述目的，具体步骤如下：</p>
<ol>
<li><p>在shell脚本中，可以通过<code>#!</code>注释来指定当前脚本使用的解析器。所以我们首先在<code>node-echo.js</code>文件顶部增加以下一行注释，表明当前脚本使用NodeJS解析。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#! /usr/bin/env node</span></div></pre></td></tr></table></figure>
<p>NodeJS会忽略掉位于JS模块首行的<code>#!</code>注释，不必担心这行注释是非法语句。</p>
</li>
<li><p>然后，我们使用以下命令赋予<code>node-echo.js</code>文件执行权限。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span> chmod +x /home/user/bin/node-echo.js</div></pre></td></tr></table></figure>
</li>
<li><p>最后，我们在PATH环境变量中指定的某个目录下，例如在<code>/usr/local/bin</code>下边创建一个软链文件，文件名与我们希望使用的终端命令同名，命令如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span> sudo ln -s /home/user/bin/node-echo.js /usr/local/bin/node-echo</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h3><p>在Windows系统下的做法完全不同，我们得靠<code>.cmd</code>文件来解决问题。假设<code>node-echo.js</code>存放在<code>C:\Users\user\bin</code>目录，并且该目录已经添加到<strong>PATH环境变量</strong>里了。接下来需要在该目录下新建一个名为<code>node-echo.cmd</code>的文件，文件内容如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@node &quot;C:\User\user\bin\node-echo.js&quot; %*</div></pre></td></tr></table></figure>
<p>这样处理后，我们就可以在任何目录下使用<code>node-echo</code>命令了。</p>
<h2 id="工程目录"><a href="#工程目录" class="headerlink" title="工程目录"></a>工程目录</h2><p>了解了以上知识后，现在我们可以来完整地规划一个工程目录了。以编写一个<strong>命令行程序</strong>为例，一般我们会同时提供<strong>命令行模式</strong>和<strong>API模式</strong>两种使用方式，并且我们会借助三方包来编写代码。除了代码外，一个完整的程序也应该有自己的<strong>文档</strong>和<strong>测试用例</strong>。因此，一个标准的工程目录都看起来像下边这样。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">- /home/user/workspace/node-echo/   # 工程目录</div><div class="line">    - bin/                          # 存放命令行相关代码</div><div class="line">        node-echo</div><div class="line">    + doc/                          # 存放文档</div><div class="line">    - lib/                          # 存放API相关代码</div><div class="line">        echo.js</div><div class="line">    - node_modules/                 # 存放三方包</div><div class="line">        + argv/</div><div class="line">    + tests/                        # 存放测试用例</div><div class="line">    package.json                    # 元数据文件</div><div class="line">    README.md                       # 说明文件</div></pre></td></tr></table></figure>
<p>其中部分文件内容如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* bin/node-echo */</span></div><div class="line"><span class="keyword">var</span> argv = <span class="built_in">require</span>(<span class="string">'argv'</span>),</div><div class="line">    echo = <span class="built_in">require</span>(<span class="string">'../lib/echo'</span>);</div><div class="line"><span class="built_in">console</span>.log(echo(argv.join(<span class="string">' '</span>)));</div><div class="line"></div><div class="line"><span class="comment">/* lib/echo.js */</span></div><div class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params">message</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> message;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">/* package.json */</span></div><div class="line">&#123;</div><div class="line">    <span class="string">"name"</span>: <span class="string">"node-echo"</span>,</div><div class="line">    <span class="string">"main"</span>: <span class="string">"./lib/echo.js"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>以上例子中分类存放了不同类型的文件，并通过<code>node_moudles</code>目录直接使用三方包名加载模块。此外，定义了<code>package.json</code>之后，<code>node-echo</code>目录也可被当作一个包来使用。</p>
<h2 id="NPM"><a href="#NPM" class="headerlink" title="NPM"></a>NPM</h2><p>NPM是随同NodeJS一起安装的包管理工具，能解决NodeJS代码部署上的很多问题，常见的使用场景有以下几种：</p>
<ul>
<li>允许用户从NPM服务器下载别人编写的三方包到本地使用。</li>
<li>允许用户从NPM服务器下载并安装别人编写的命令行程序到本地使用。</li>
<li>允许用户将自己编写的包或命令行程序上传到NPM服务器供别人使用。</li>
</ul>
<p>可以看到，NPM建立了一个NodeJS生态圈，NodeJS开发者和用户可以在里边互通有无。以下分别介绍这三种场景下怎样使用NPM。</p>
<h3 id="下载三方包"><a href="#下载三方包" class="headerlink" title="下载三方包"></a>下载三方包</h3><p>需要使用三方包时，首先得知道有哪些包可用。虽然<a href="https://npmjs.org/" target="_blank" rel="external">npmjs.org</a>提供了个搜索框可以根据包名来搜索，但如果连想使用的三方包的名字都不确定的话，就请百度一下吧。知道了包名后，比如上边例子中的<code>argv</code>，就可以在工程目录下打开终端，使用以下命令来下载三方包。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ npm install argv</div><div class="line">...</div><div class="line">argv@0.0.2 node_modules\argv</div></pre></td></tr></table></figure>
<p>下载好之后，<code>argv</code>包就放在了工程目录下的<code>node_modules</code>目录中，因此在代码中只需要通过<code>require(&#39;argv&#39;)</code>的方式就好，无需指定三方包路径。</p>
<p>以上命令默认下载最新版三方包，如果想要下载指定版本的话，可以在包名后边加上<code>@</code>，例如通过以下命令可下载0.0.1版的<code>argv</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ npm install argv@0.0.1</div><div class="line">...</div><div class="line">argv@0.0.1 node_modules\argv</div></pre></td></tr></table></figure>
<p>如果使用到的三方包比较多，在终端下一个包一条命令地安装未免太人肉了。因此NPM对<code>package.json</code>的字段做了扩展，允许在其中申明三方包依赖。因此，上边例子中的<code>package.json</code>可以改写如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    &quot;name&quot;: &quot;node-echo&quot;,</div><div class="line">    &quot;main&quot;: &quot;./lib/echo.js&quot;,</div><div class="line">    &quot;dependencies&quot;: &#123;</div><div class="line">        &quot;argv&quot;: &quot;0.0.2&quot;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这样处理后，在工程目录下就可以使用<code>npm install</code>命令批量安装三方包了。更重要的是，当以后<code>node-echo</code>也上传到了NPM服务器，别人下载这个包时，NPM会根据包中申明的三方包依赖自动下载进一步依赖的三方包。例如，使用<code>npm install node-echo</code>命令时，NPM会自动创建以下目录结构。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">- project/</div><div class="line">    - node_modules/</div><div class="line">        - node-echo/</div><div class="line">            - node_modules/</div><div class="line">                + argv/</div><div class="line">            ...</div><div class="line">    ...</div></pre></td></tr></table></figure>
<p>如此一来，用户只需关心自己直接使用的三方包，不需要自己去解决所有包的依赖关系。</p>
<h3 id="安装命令行程序"><a href="#安装命令行程序" class="headerlink" title="安装命令行程序"></a>安装命令行程序</h3><p>从NPM服务上下载安装一个命令行程序的方法与三方包类似。例如上例中的<code>node-echo</code>提供了命令行使用方式，只要<code>node-echo</code>自己配置好了相关的<code>package.json</code>字段，对于用户而言，只需要使用以下命令安装程序。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install node-echo -g</div></pre></td></tr></table></figure>
<p>参数中的<code>-g</code>表示全局安装，因此<code>node-echo</code>会默认安装到以下位置，并且NPM会自动创建好Linux系统下需要的软链文件或Windows系统下需要的<code>.cmd</code>文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">- /usr/local/               # Linux系统下</div><div class="line">    - lib/node_modules/</div><div class="line">        + node-echo/</div><div class="line">        ...</div><div class="line">    - bin/</div><div class="line">        node-echo</div><div class="line">        ...</div><div class="line">    ...</div><div class="line"></div><div class="line">- %APPDATA%\npm\            # Windows系统下</div><div class="line">    - node_modules\</div><div class="line">        + node-echo\</div><div class="line">        ...</div><div class="line">    node-echo.cmd</div><div class="line">    ...</div></pre></td></tr></table></figure>
<h3 id="发布代码"><a href="#发布代码" class="headerlink" title="发布代码"></a>发布代码</h3><p>第一次使用NPM发布代码前需要注册一个账号。终端下运行<code>npm adduser</code>，之后按照提示做即可。账号搞定后，接着我们需要编辑<code>package.json</code>文件，加入NPM必需的字段。接着上边<code>node-echo</code>的例子，<code>package.json</code>里必要的字段如下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    &quot;name&quot;: &quot;node-echo&quot;,           # 包名，在NPM服务器上须要保持唯一</div><div class="line">    &quot;version&quot;: &quot;1.0.0&quot;,            # 当前版本号</div><div class="line">    &quot;dependencies&quot;: &#123;              # 三方包依赖，需要指定包名和版本号</div><div class="line">        &quot;argv&quot;: &quot;0.0.2&quot;</div><div class="line">      &#125;,</div><div class="line">    &quot;main&quot;: &quot;./lib/echo.js&quot;,       # 入口模块位置</div><div class="line">    &quot;bin&quot; : &#123;</div><div class="line">        &quot;node-echo&quot;: &quot;./bin/node-echo&quot;      # 命令行程序名和主模块位置</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>之后，我们就可以在<code>package.json</code>所在目录下运行<code>npm publish</code>发布代码了。</p>
<h3 id="版本号"><a href="#版本号" class="headerlink" title="版本号"></a>版本号</h3><p>使用NPM下载和发布代码时都会接触到版本号。NPM使用语义版本号来管理代码，这里简单介绍一下。</p>
<p>语义版本号分为<code>X.Y.Z</code>三位，分别代表主版本号、次版本号和补丁版本号。当代码变更时，版本号按以下原则更新。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">+ 如果只是修复bug，需要更新Z位。</div><div class="line"></div><div class="line">+ 如果是新增了功能，但是向下兼容，需要更新Y位。</div><div class="line"></div><div class="line">+ 如果有大变动，向下不兼容，需要更新X位。</div></pre></td></tr></table></figure>
<p>版本号有了这个保证后，在申明三方包依赖时，除了可依赖于一个固定版本号外，还可依赖于某个范围的版本号。例如<code>&quot;argv&quot;: &quot;0.0.x&quot;</code>表示依赖于<code>0.0.x</code>系列的最新版<code>argv</code>。NPM支持的所有版本号范围指定方式可以查看<a href="https://npmjs.org/doc/files/package.json.html#dependencies" target="_blank" rel="external">官方文档</a>。</p>
<h3 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h3><p>除了本章介绍的部分外，NPM还提供了很多功能，<code>package.json</code>里也有很多其它有用的字段。除了可以在<a href="https://npmjs.org/doc/" target="_blank" rel="external">npmjs.org/doc/</a>查看官方文档外，这里再介绍一些NPM常用命令。</p>
<ul>
<li>NPM提供了很多命令，例如<code>install</code>和<code>publish</code>，使用<code>npm help</code>可查看所有命令。</li>
<li>使用<code>npm help</code>可查看某条命令的详细帮助，例如<code>npm help install</code>。</li>
<li>在<code>package.json</code>所在目录下使用<code>npm install . -g</code>可先在本地安装当前命令行程序，可用于发布前的本地测试。</li>
<li>使用<code>npm update</code>可以把当前目录下<code>node_modules</code>子目录里边的对应模块更新至最新版本。</li>
<li>使用<code>npm update -g</code>可以把全局安装的对应命令行程序更新至最新版。</li>
<li>使用<code>npm cache clear</code>可以清空NPM本地缓存，用于对付使用相同版本号发布新版本代码的人。</li>
<li>使用<code>npm unpublish @</code>可以撤销发布自己发布过的某个版本代码。</li>
</ul>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>本章介绍了使用NodeJS编写代码前需要做的准备工作，总结起来有以下几点：</p>
<ul>
<li>编写代码前先规划好目录结构，才能做到有条不紊。</li>
<li>稍大些的程序可以将代码拆分为多个模块管理，更大些的程序可以使用包来组织模块。</li>
<li>合理使用<code>node_modules</code>和<code>NODE_PATH</code>来解耦包的使用方式和物理路径。</li>
<li>使用NPM加入NodeJS生态圈互通有无。</li>
<li>想到了心仪的包名时请提前在NPM上抢注。</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;使用NodeJS编写程序前，为了有个良好的开端，首先需要准备好代码的目录结构和部署方式。&lt;/p&gt;
&lt;h2 id=&quot;模块路径解析规则&quot;&gt;&lt;a href=&quot;#模块路径解析规则&quot; class=&quot;headerlink&quot; title=&quot;模块路径解析规则&quot;&gt;&lt;/a&gt;模块路径解析规则&lt;/
    
    </summary>
    
      <category term="编程语言" scheme="http:/dannyzhaoo.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    
      <category term="NodeJS" scheme="http:/dannyzhaoo.github.io/tags/NodeJS/"/>
    
  </entry>
  
  <entry>
    <title>Latex入门笔记</title>
    <link href="http:/dannyzhaoo.github.io/2017/06/06/Latex%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/"/>
    <id>http:/dannyzhaoo.github.io/2017/06/06/Latex入门笔记/</id>
    <published>2017-06-06T12:20:23.000Z</published>
    <updated>2017-09-05T11:43:07.000Z</updated>
    
    <content type="html"><![CDATA[<p>因为Latex的排版一直为人称道，而近期我们需要写一个指导手册，所以就学习用一下Latex。</p>
<h2 id="下载安装"><a href="#下载安装" class="headerlink" title="下载安装"></a>下载安装</h2><p>在ctex.org下载ctex套装(203Mb或1.3Gb)（含MikTeX及WinEdt），等着下载好了之后，就一步一步安装。</p>
<h2 id="写第一个文档"><a href="#写第一个文档" class="headerlink" title="写第一个文档"></a>写第一个文档</h2><p>主要是使用界面较为简单的<strong>TeXworks</strong>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">\documentclass&#123;article&#125;</div><div class="line">\begin&#123;document&#125;</div><div class="line">hello,world</div><div class="line">\end&#123;document&#125;</div></pre></td></tr></table></figure>
<p>此处的第一行 <code>\documentclass{article}</code> 中包含了一个控制序列（或称命令/标记）。所谓控制序列，是以反斜杠<code>\</code>开头，以第一个<strong>空格或非字母</strong> 的字符结束的一串文字，他们并不被输出，但是他们会影响输出文档的效果。这里的控制序列是 <code>documentclass</code>，它后面紧跟着的 <code>{article}</code> 代表这个控制序列有一个必要的参数，该参数的值为 <code>article</code>。这个控制序列的作用，是调用名为 “article” 的文档类。</p>
<p>尝试输出<strong>中文</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">\documentclass[UTF8]&#123;ctexart&#125;</div><div class="line">\begin&#123;document&#125;</div><div class="line">你好，世界！</div><div class="line">\end&#123;document&#125;</div></pre></td></tr></table></figure>
<p>可以如愿输出中文，ps:用latex输出中文真是不容易！！！</p>
<p>相较于之前，这份代码有些细微的差别:</p>
<blockquote>
<ol>
<li>文档从<code>article</code>变为<code>ctextart</code>;</li>
<li>增加了文档累选项<code>UTF8</code>。</li>
</ol>
</blockquote>
<h2 id="作者、标题、日期"><a href="#作者、标题、日期" class="headerlink" title="作者、标题、日期"></a>作者、标题、日期</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">\documentclass[UTF8]&#123;ctexart&#125;</div><div class="line">\title&#123;你好，world!&#125;</div><div class="line">\author&#123;Liam&#125;</div><div class="line">\date&#123;\today&#125;</div><div class="line">\begin&#123;document&#125;</div><div class="line">\maketitle</div><div class="line">你好，world!</div><div class="line">\end&#123;document&#125;</div></pre></td></tr></table></figure>
<p>在 <code>document</code> 环境中，除了原本的<code>你好，world!</code>，还多了一个控制序列 <code>maketitle</code>。这个控制序列能将在导言区中定义的标题、作者、日期 按照预定的格式展现出来。</p>
<h2 id="章节和段落"><a href="#章节和段落" class="headerlink" title="章节和段落"></a>章节和段落</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">\documentclass[UTF8]&#123;ctexart&#125;</div><div class="line">\title&#123;你好，world!&#125;</div><div class="line">\author&#123;Liam&#125;</div><div class="line">\date&#123;\today&#125;</div><div class="line">\begin&#123;document&#125;</div><div class="line">\maketitle</div><div class="line">\section&#123;你好中国&#125;</div><div class="line">中国在East Asia.</div><div class="line">\subsection&#123;Hello Beijing&#125;</div><div class="line">北京是capital of China.</div><div class="line">\subsubsection&#123;Hello Dongcheng District&#125;</div><div class="line">\paragraph&#123;Tian&apos;anmen Square&#125;</div><div class="line">is in the center of Beijing</div><div class="line">\subparagraph&#123;Chairman Mao&#125;</div><div class="line">is in the center of 天安门广场。</div><div class="line">\subsection&#123;Hello 山东&#125;</div><div class="line">\paragraph&#123;山东大学&#125; is one of the best university in 山东。</div><div class="line">\end&#123;document&#125;</div></pre></td></tr></table></figure>
<p>在文档类 <code>article</code>/<code>ctexart</code> 中，定义了五个控制序列来调整行文组织结构。他们分别是</p>
<ul>
<li><code>\section{·}</code></li>
<li><code>\subsection{·}</code></li>
<li><code>\subsubsection{·}</code></li>
<li><code>\paragraph{·}</code></li>
<li><code>\subparagraph{·}</code></li>
</ul>
<blockquote>
<p>在<code>report</code>/<code>ctexrep</code>中，还有<code>\chapter{·}</code>；在文档类<code>book</code>/<code>ctexbook</code>中，还定义了<code>\part{·}</code>。</p>
</blockquote>
<h2 id="插入目录"><a href="#插入目录" class="headerlink" title="插入目录"></a>插入目录</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">\documentclass[UTF8]&#123;ctexart&#125;</div><div class="line">\title&#123;你好，world!&#125;</div><div class="line">\author&#123;Liam&#125;</div><div class="line">\date&#123;\today&#125;</div><div class="line">\begin&#123;document&#125;</div><div class="line">\maketitle</div><div class="line">\tableofcontents  %插入的位置</div><div class="line">\section&#123;你好中国&#125;</div><div class="line">中国在East Asia.</div><div class="line">\subsection&#123;Hello Beijing&#125;</div><div class="line">北京是capital of China.</div><div class="line">\subsubsection&#123;Hello Dongcheng District&#125;</div><div class="line">\paragraph&#123;Tian&apos;anmen Square&#125;</div><div class="line">is in the center of Beijing</div><div class="line">\subparagraph&#123;Chairman Mao&#125;</div><div class="line">is in the center of 天安门广场。</div><div class="line">\subsection&#123;Hello 山东&#125;</div><div class="line">\paragraph&#123;山东大学&#125; is one of the best university in 山东。</div><div class="line">\end&#123;document&#125;</div></pre></td></tr></table></figure>
<p>如果交换 <code>\maketitle</code> 和 <code>\tableofcontents</code> 的顺序，那么下面所有的内容全部就都变成了目录的内容了。而不是自动生成。</p>
<h2 id="插入图片"><a href="#插入图片" class="headerlink" title="插入图片"></a>插入图片</h2><p>在 LaTeX 中插入图片，有很多种方式。最好用的应当属利用 <code>graphicx</code> 宏包提供的 <code>\includegraphics</code> 命令。比如你在你的 TeX 源文件同目录下，有名为 <code>a.jpg</code> 的图片，你可以用这样的方式将它插入到输出文档中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">\documentclass&#123;article&#125;</div><div class="line">\usepackage&#123;graphicx&#125;</div><div class="line">\begin&#123;document&#125;</div><div class="line">\includegraphics&#123;a.jpg&#125;</div><div class="line">\end&#123;document&#125;</div></pre></td></tr></table></figure>
<p>图片可能很大，超过了输出文件的纸张大小，或者干脆就是你自己觉得输出的效果不爽。这时候你可以用 <code>\includegraphics</code> 控制序列的可选参数来控制。比如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">\includegraphics[width = .8\textwidth]&#123;a.jpg&#125;</div></pre></td></tr></table></figure>
<p>这样图片的宽度会被缩放至页面宽度的百分之八十，图片的总高度会按比例缩放。</p>
<blockquote>
<p><code>\includegraphics</code> 控制序列还有若干其他的可选参数可供使用，一般并用不到。感兴趣的话，可以去查看<a href="http://texdoc.net/texmf-dist/doc/latex/graphics/graphicx.pdf" target="_blank" rel="external">该宏包的文档</a>。</p>
</blockquote>
<p>插图和表格通常需要占据大块空间，所以在文字处理软件中我们经常需要调整他们的位置。<code>figure</code> 和 <code>table</code> 环境可以自动完成这样的任务；这种自动调整位置的环境称作浮动体(float)。我们以 <code>figure</code> 为例。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">\begin&#123;figure&#125;[htbp]</div><div class="line">\centering</div><div class="line">\includegraphics&#123;a.jpg&#125;</div><div class="line">\caption&#123;有图有真相&#125;</div><div class="line">\label&#123;fig:myphoto&#125;</div><div class="line">\end&#123;figure&#125;</div></pre></td></tr></table></figure>
<p>“htbp” 选项用来指定插图的理想位置，这几个字母分别代表here, top, bottom, float page，也就是就这里、页顶、页尾、浮动页(专门放浮动体的单独页面) 。<code>\centering</code> 用来使插图居中；<code>\caption</code> 命令设置插图标题，LaTeX 会自动给浮动体的标题加上编号。注意 <code>\label</code> 应该放在标题命令之后。</p>
<h2 id="版面设置"><a href="#版面设置" class="headerlink" title="版面设置"></a>版面设置</h2><h3 id="页边距"><a href="#页边距" class="headerlink" title="页边距"></a>页边距</h3><p>设置页边距，推荐使用 <code>geometry</code> 宏包。可以在<a href="http://texdoc.net/texmf-dist/doc/latex/geometry/geometry.pdf" target="_blank" rel="external">这里</a>查看它的说明文档。</p>
<p>比如我希望，将纸张的长度设置为 20cm、宽度设置为 15cm、左边距 1cm、右边距 2cm、上边距 3cm、下边距 4cm，可以在导言区加上这样几行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">\usepackage&#123;geometry&#125;</div><div class="line">\geometry&#123;papersize=&#123;20cm,15cm&#125;&#125;</div><div class="line">\geometry&#123;left=1cm,right=2cm,top=3cm,bottom=4cm&#125;</div></pre></td></tr></table></figure>
<h3 id="页眉页脚"><a href="#页眉页脚" class="headerlink" title="页眉页脚"></a>页眉页脚</h3><p>设置页眉页脚，推荐使用 <code>fancyhdr</code> 宏包。可以在<a href="http://texdoc.net/texmf-dist/doc/latex/fancyhdr/fancyhdr.pdf" target="_blank" rel="external">这里</a>查看它的说明文档。</p>
<p>比如我希望，在页眉左边写上我的名字，中间写上今天的日期，右边写上我的电话；页脚的正中写上页码；页眉和正文之间有一道宽为 0.4pt 的横线分割，可以在导言区加上如下几行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">\usepackage&#123;fancyhdr&#125;</div><div class="line">\pagestyle&#123;fancy&#125;</div><div class="line">\lhead&#123;\author&#125;</div><div class="line">\chead&#123;\date&#125;</div><div class="line">\rhead&#123;152xxxxxxxx&#125;</div><div class="line">\lfoot&#123;&#125;</div><div class="line">\cfoot&#123;\thepage&#125;</div><div class="line">\rfoot&#123;&#125;</div><div class="line">\renewcommand&#123;\headrulewidth&#125;&#123;0.4pt&#125;</div><div class="line">\renewcommand&#123;\headwidth&#125;&#123;\textwidth&#125;</div><div class="line">\renewcommand&#123;\footrulewidth&#125;&#123;0pt&#125;</div></pre></td></tr></table></figure>
<h3 id="首行缩进"><a href="#首行缩进" class="headerlink" title="首行缩进"></a>首行缩进</h3><p><code>CTeX</code> 宏集已经处理好了首行缩进的问题（自然段前空两格汉字宽度）。</p>
<blockquote>
<p>不使用 <code>CTeX</code> 宏集（使用 <code>xeCJK</code> 宏包）的话，请遵照以下提示操作。</p>
<p>中国人写文章，习惯每一段的段首都空出两个中文汉字的长度。美国人没有这个习惯，他们每一小节的段首都顶格。为了解决这个问题，我们可以在导言区调用 <code>\usepackage{indentfirst}</code>.</p>
<p>就算是这样，首行缩进的长度，仍然不符合中国人的习惯。我们可以在导言区添加这样的控制序列 <code>\setlength{\parindent}{\ccwd}</code> 来调整首行缩进的大小。这里的 <code>\ccwd</code> 是当前字号下一个中文汉字的宽度。</p>
</blockquote>
<h3 id="行间距"><a href="#行间距" class="headerlink" title="行间距"></a>行间距</h3><p>我们可以通过 <code>setspace</code>宏包提供的命令来调整行间距。比如在导言区添加如下内容，可以将行距设置为字号的 1.5 倍：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">\usepackage&#123;setspace&#125;</div><div class="line">\onehalfspacing</div></pre></td></tr></table></figure>
<p>具体可以查看该宏包的<a href="http://texdoc.net/texmf-dist/doc/latex/setspace/README" target="_blank" rel="external">文档</a>。</p>
<blockquote>
<p>请注意用词的差别：</p>
<ul>
<li>行距是字号的 1.5 倍；</li>
<li>1.5 倍行距。</li>
</ul>
<p>事实上，这不是设置 1.5 倍行距的正确方法，请参考：<a href="http://liam0205.me/2013/10/17/LaTeX-Linespace/" target="_blank" rel="external">http://liam0205.me/2013/10/17/LaTeX-Linespace/</a></p>
</blockquote>
<h3 id="段间距"><a href="#段间距" class="headerlink" title="段间距"></a>段间距</h3><p>我们可以通过修改长度 <code>\parskip</code> 的值来调整段间距。例如在导言区添加以下内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">\addtolength&#123;\parskip&#125;&#123;.4em&#125;</div></pre></td></tr></table></figure>
<p>则可以在原有的基础上，增加段间距 0.4em。如果需要减小段间距，只需将该数值改为负值即可。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;因为Latex的排版一直为人称道，而近期我们需要写一个指导手册，所以就学习用一下Latex。&lt;/p&gt;
&lt;h2 id=&quot;下载安装&quot;&gt;&lt;a href=&quot;#下载安装&quot; class=&quot;headerlink&quot; title=&quot;下载安装&quot;&gt;&lt;/a&gt;下载安装&lt;/h2&gt;&lt;p&gt;在ctex.or
    
    </summary>
    
      <category term="软技能" scheme="http:/dannyzhaoo.github.io/categories/%E8%BD%AF%E6%8A%80%E8%83%BD/"/>
    
    
      <category term="Latex" scheme="http:/dannyzhaoo.github.io/tags/Latex/"/>
    
  </entry>
  
  <entry>
    <title>NodeJS基础</title>
    <link href="http:/dannyzhaoo.github.io/2017/06/06/NodeJS%E5%9F%BA%E7%A1%80/"/>
    <id>http:/dannyzhaoo.github.io/2017/06/06/NodeJS基础/</id>
    <published>2017-06-06T11:23:18.000Z</published>
    <updated>2017-09-05T11:43:26.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="什么是NodeJS"><a href="#什么是NodeJS" class="headerlink" title="什么是NodeJS"></a>什么是NodeJS</h2><p>JS是脚本原因，脚本语言都需要一个解析器才能运行。</p>
<p>每个解析器都是一个运行环境，不但允许JS定义各种数据结构，进行各种计算，还允许JS使用运行环境提供的内置对象和方法做一些事情。例如浏览器中JS要操作DOM，浏览器就提供<code>document</code>之类的内置对象。而NodeJS就是要操作磁盘文件或搭建HTTP服务，nodeJS就提供<code>fs</code>、<code>http</code>等内置对象。</p>
<h2 id="用处"><a href="#用处" class="headerlink" title="用处"></a>用处</h2><p>创造NodeJS的目的是为了实现高性能Web服务器，看重的是事件机制和异步IO模型的优越性。</p>
<p>nodejs在服务端的很活跃，出现了很多基于Nodejs的Web服务器，另一方面，NodeJS放前端可以跳出浏览器，更催生了更多的前端工具。</p>
<h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><p>编写稍大点的程序时，一般都会将代码模块化。在NodeJS中，一般将代码合理拆分到不同的JS文件中，每一个文件就是一个模块，而文件路径就是模块名。</p>
<p>每个模块都有<code>require</code>、<code>exports</code> 、<code>module</code>三个预先定义好的变量可供使用。</p>
<h3 id="require"><a href="#require" class="headerlink" title="require"></a>require</h3><p>这个模块用于在当前模块中加载和使用别的模块，传入一个模块名，返回一个模块导出对象。模块名可使用相对路径 、或者是绝对路径。</p>
<h3 id="exports"><a href="#exports" class="headerlink" title="exports"></a>exports</h3><p>这个对象是当前模块的导出对象，用于导出模块共有方法和属性。别的模块通过<code>require</code>函数使用当前模块时得到的就是当前模块的<code>exports</code>对象。</p>
<h3 id="module"><a href="#module" class="headerlink" title="module"></a>module</h3><p>通过<code>module</code>对象可以访问到当前模块的一些相关信息，但最多的用途是替换当前模块的导出对象。例如模块导出对象默认是一个普通对象，如果想改成一个函数的话，可以用下面的方式。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"Hello World!"</span>);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>以上代码中，模块默认导出对象被替换为一个函数。</p>
<h3 id="模块初始化"><a href="#模块初始化" class="headerlink" title="模块初始化"></a>模块初始化</h3><p>一个模块中的JS代码仅在模块第一次被使用时执行一次，并在执过程中初始化模块的导出对象。之后，缓存起来的导出对象被重复利用。</p>
<h3 id="主模块"><a href="#主模块" class="headerlink" title="主模块"></a>主模块</h3><p>通过命令行参数传递给NodeJS以启动程序的模块被称为主模块。主模块负责调度组成整个程序的其他模块完成工作。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;什么是NodeJS&quot;&gt;&lt;a href=&quot;#什么是NodeJS&quot; class=&quot;headerlink&quot; title=&quot;什么是NodeJS&quot;&gt;&lt;/a&gt;什么是NodeJS&lt;/h2&gt;&lt;p&gt;JS是脚本原因，脚本语言都需要一个解析器才能运行。&lt;/p&gt;
&lt;p&gt;每个解析器都是一个
    
    </summary>
    
      <category term="编程语言" scheme="http:/dannyzhaoo.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    
      <category term="NodeJS" scheme="http:/dannyzhaoo.github.io/tags/NodeJS/"/>
    
  </entry>
  
  <entry>
    <title>HTML5+CSS3实现春节贺卡</title>
    <link href="http:/dannyzhaoo.github.io/2017/06/05/HTML5-CSS3%E5%AE%9E%E7%8E%B0%E6%98%A5%E8%8A%82%E8%B4%BA%E5%8D%A1/"/>
    <id>http:/dannyzhaoo.github.io/2017/06/05/HTML5-CSS3实现春节贺卡/</id>
    <published>2017-06-05T10:37:39.000Z</published>
    <updated>2017-09-05T11:42:35.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h2><ul>
<li>根据设计稿对项目进行整套项目的需求进行剖析并开发。</li>
<li>对项目开发流程需要有一个基本的了解。</li>
<li>运用切图、重构、前端的知识对项目进行灵活控制。</li>
</ul>
<h3 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h3><ul>
<li>项目主题，恭贺新春，采取欢快活泼的表现形式。</li>
<li>根据psd稿图层分析，多页视觉放到一个网页文档，采取视觉差特效完成分析展示。</li>
<li>音乐不跟随翻页，位置固定，播放旋转，可暂停。</li>
</ul>
<h3 id="开发技能分析"><a href="#开发技能分析" class="headerlink" title="开发技能分析"></a>开发技能分析</h3><ul>
<li>移动端项目，采取Html5作为项目的结构层。</li>
<li>分析网页呈现形势，直接采用CSS3完成网页的表现层。</li>
<li>特效分析，采用CSS3完成主要特效，采用JavaScript控制交互。</li>
<li>背景音乐直接采取JavaScript控制Audio的API进行控制。</li>
<li>直接采取原生态的JavaScript控制CSS实现翻页效果，放弃前端框架。和类库。</li>
</ul>
<h3 id="性能优化分析"><a href="#性能优化分析" class="headerlink" title="性能优化分析"></a>性能优化分析</h3><ul>
<li>项目为移动端项目，尽可能简化结构层标签。</li>
<li>尽可能少用图片，尽量直接用CSS3控制标签完成图片效果。</li>
<li>尽可能减小文件的大小，压缩图片到无损最小值。</li>
<li>减少服务器请求此次数，用原生态JavaScript代替Zepto等前端框架。</li>
</ul>
<h2 id="移动端项目开发"><a href="#移动端项目开发" class="headerlink" title="移动端项目开发"></a>移动端项目开发</h2><p>切图 —&gt; 重构 —&gt; 前端 —&gt; 优化</p>
<ul>
<li>减少图片文件，背景图片采取JPG格式，其他图片采取png24透明格式。</li>
<li>小型项目，直接采取手写HTML5+CSS3完成。</li>
<li>采用JavaScript控制HTML5API完成特效。</li>
<li>测试并优化整体网站性能，采用WampServer为本地服务器测试环境。</li>
</ul>
<h3 id="项目开发—-结构层"><a href="#项目开发—-结构层" class="headerlink" title="项目开发—-结构层"></a>项目开发—-结构层</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"Zh-cn"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>慕课贺春<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 强制以webkit内核渲染--&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge, chrome=1"</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!--视口--&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width,initial-scale=1,minium-scale=1,maximum-scale=1,user-scalable=no"</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!--不拨号--&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"format-detection"</span> <span class="attr">content</span>=<span class="string">"telephone=no"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">""</span> <span class="attr">href</span>=<span class="string">"css/style.css"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"music"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/music_pointer.png"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"play"</span> <span class="attr">id</span>=<span class="string">"music"</span> <span class="attr">src</span>=<span class="string">"images/music_disc.png"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"page"</span> <span class="attr">id</span>=<span class="string">"page1"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bg"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"p1_lantern"</span>&gt;</span>点击屏幕<span class="tag">&lt;<span class="name">br</span>&gt;</span>开启好运2016<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"p1_imooc"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"p1_words"</span>&gt;</span>2016年慕课网新年特献<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"page"</span> <span class="attr">id</span>=<span class="string">"page2"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bg p2_bg_loading"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bg"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"p2_circle"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"p2_2016"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"page"</span> <span class="attr">id</span>=<span class="string">"page3"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bg"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"p3_logo"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"p3_title"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"p3_second"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"p3_first"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"p3_blessing"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">audio</span> <span class="attr">autoplay</span>=<span class="string">"true"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"audio/happynewyear.mp3"</span> <span class="attr">type</span>=<span class="string">"audio/mpeg"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">audio</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/script.js"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="项目开发—-表示层"><a href="#项目开发—-表示层" class="headerlink" title="项目开发—-表示层"></a>项目开发—-表示层</h3><h4 id="全局设定"><a href="#全局设定" class="headerlink" title="全局设定"></a>全局设定</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">* &#123;</div><div class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">border</span>:<span class="number">0</span>;</div><div class="line">  <span class="comment">/*注意这个单位是vw*/</span></div><div class="line">  <span class="attribute">font-size</span>:<span class="number">1.5625vw</span>;</div><div class="line">  <span class="attribute">font-family</span>: <span class="string">"Microsoft Yahei"</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="music的部分"><a href="#music的部分" class="headerlink" title="music的部分"></a>music的部分</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.music</span> &#123;</div><div class="line">  <span class="attribute">position</span>: fixed;</div><div class="line">  <span class="attribute">top</span>:<span class="number">3vh</span>;</div><div class="line">  <span class="attribute">right</span>: <span class="number">4vw</span>;</div><div class="line">  <span class="attribute">z-index</span>:<span class="number">5</span>;</div><div class="line">  <span class="attribute">width</span>:<span class="number">15vw</span>;</div><div class="line">  <span class="attribute">height</span>:<span class="number">15vw</span>;</div><div class="line">  <span class="attribute">border</span>: <span class="number">4px</span> solid <span class="number">#ef1639</span>;</div><div class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</div><div class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.music</span> &gt; <span class="selector-tag">img</span><span class="selector-pseudo">:first-of-type</span> &#123;</div><div class="line">  <span class="attribute">position</span>:absolute;</div><div class="line">  <span class="comment">/*这里是为了让指针在盘上*/</span></div><div class="line">  <span class="attribute">z-index</span>:<span class="number">1</span>;</div><div class="line">  <span class="attribute">top</span>:<span class="number">24%</span>;</div><div class="line">  <span class="attribute">right</span>:<span class="number">2.5%</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">28.421%</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.music</span> &gt; <span class="selector-tag">img</span><span class="selector-pseudo">:last-of-type</span>&#123;</div><div class="line">  <span class="attribute">position</span>: absolute;</div><div class="line">  <span class="attribute">z-index</span>:<span class="number">0</span>;</div><div class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">margin</span>: auto;</div><div class="line">  <span class="attribute">width</span>: <span class="number">79%</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.music</span> &gt; <span class="selector-tag">img</span><span class="selector-class">.play</span>&#123;</div><div class="line">    <span class="attribute">-webkit-animation</span>: music_disc <span class="number">4s</span> linear infinite;</div><div class="line">            <span class="attribute">animation</span>: music_disc <span class="number">4s</span> linear infinite;&#125;</div><div class="line">@<span class="keyword">keyframes</span> music_disc &#123;</div><div class="line">    0% &#123;</div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(0deg) ;</div><div class="line">                <span class="attribute">transform</span>: <span class="built_in">rotate</span>(0deg) ;</div><div class="line">    &#125;</div><div class="line">    100% &#123;</div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(360deg);</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(360deg);</div><div class="line">        &#125;</div><div class="line">&#125;</div><div class="line">@-<span class="keyword">webkit</span>-<span class="keyword">keyframes</span> music_disc &#123;</div><div class="line">    0% &#123;</div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(0deg);</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(0deg);</div><div class="line">    &#125;</div><div class="line">    100% &#123;</div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(360deg);</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(360deg);</div><div class="line">        &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="设置每一页"><a href="#设置每一页" class="headerlink" title="设置每一页"></a>设置每一页</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.page</span>&#123;</div><div class="line">  <span class="attribute">position</span>: absolute;</div><div class="line">  <span class="attribute">idth</span>: <span class="number">100%</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">100%</span>&#125;</div><div class="line"><span class="selector-class">.page</span>&gt; <span class="selector-class">.bg</span>&#123;</div><div class="line">  <span class="attribute">position</span>: absolute;</div><div class="line">  <span class="comment">/* 让其成为背景，不能遮住字 */</span></div><div class="line">  <span class="attribute">z-index</span>:-<span class="number">1</span>; </div><div class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;&#125;</div><div class="line"></div><div class="line"><span class="comment">/* page1 */</span></div><div class="line"></div><div class="line"><span class="selector-id">#page1</span> &#123;<span class="attribute">display</span>: block;&#125;</div><div class="line"><span class="selector-id">#page1</span> &gt; <span class="selector-class">.bg</span>&#123;</div><div class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/p1_bg.jpg"</span>) no-repeat center center;<span class="comment">/* 使之自适应 */</span><span class="attribute">background-size</span>: <span class="number">100%</span>;&#125;</div><div class="line"><span class="selector-id">#page1</span> &gt; <span class="selector-class">.p1_lantern</span>&#123;<span class="attribute">color</span>:<span class="number">#fff</span>;<span class="attribute">position</span>: absolute;<span class="comment">/* 确定下面的空间*/</span><span class="attribute">top</span>: -<span class="number">3.4%</span>;<span class="attribute">right</span>:<span class="number">0</span>;<span class="attribute">left</span>: <span class="number">0</span>;<span class="attribute">margin</span>:auto;<span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/p1_lantern.png"</span>) no-repeat center bottom;<span class="attribute">background-size</span>: <span class="number">100%</span>;<span class="attribute">width</span>: <span class="number">45vw</span>;<span class="attribute">height</span>:<span class="number">71.2vh</span>;<span class="attribute">font-size</span>: <span class="number">3.506rem</span>;<span class="attribute">padding-top</span>: <span class="number">31vh</span>;<span class="attribute">text-align</span>: center;<span class="attribute">-webkit-box-sizing</span>: border-box;   <span class="attribute">-moz-box-sizing</span>: border-box;<span class="attribute">-ms-box-sizing</span>: border-box; <span class="attribute">-o-box-sizing</span>: border-box;<span class="attribute">box-sizing</span>: border-box;&#125;</div><div class="line"><span class="selector-id">#page1</span> &gt; <span class="selector-class">.p1_lantern</span><span class="selector-pseudo">::before</span>&#123;</div><div class="line">    <span class="comment">/*定位中间*/</span><span class="attribute">position</span>: absolute;</div><div class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">left</span>:<span class="number">0</span>;</div><div class="line">    <span class="attribute">z-index</span>: -<span class="number">1</span>;</div><div class="line">    <span class="attribute">content</span>: <span class="string">""</span>;</div><div class="line">    <span class="attribute">margin</span>:auto;</div><div class="line">    <span class="attribute">width</span>:<span class="number">30vw</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">30vw</span>;</div><div class="line">    <span class="attribute">background</span>: <span class="number">#d60b3b</span>;</div><div class="line">    <span class="attribute">opacity</span>: <span class="number">0.5</span>;</div><div class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</div><div class="line">    <span class="attribute">-webkit-box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10vw</span> <span class="number">10vw</span> <span class="number">#d60b3b</span>;</div><div class="line">    <span class="attribute">-moz-box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10vw</span> <span class="number">10vw</span> <span class="number">#d60b3b</span>;</div><div class="line">    <span class="attribute">-ms-box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10vw</span> <span class="number">10vw</span> <span class="number">#d60b3b</span>;</div><div class="line">    <span class="attribute">-o-box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10vw</span> <span class="number">10vw</span> <span class="number">#d60b3b</span>;</div><div class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10vw</span> <span class="number">10vw</span> <span class="number">#d60b3b</span>;</div><div class="line">    <span class="attribute">animation</span>: p1_lantern .<span class="number">5s</span> infinite alternate;</div><div class="line">    <span class="attribute">-webkit-animation</span>: p1_lantern .<span class="number">5s</span> infinite al;</div><div class="line">&#125;</div><div class="line">@-<span class="keyword">webkit</span>-<span class="keyword">keyframes</span> p1_lantern&#123;</div><div class="line">    0% &#123;</div><div class="line">        <span class="attribute">opacity</span>: .<span class="number">5</span>;</div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">scale</span>(.8,.8);</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">scale</span>(.8,.8);</div><div class="line">    &#125;</div><div class="line">    100%&#123;</div><div class="line">        <span class="attribute">opacity</span>: <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">@<span class="keyword">keyframes</span> p1_lantern&#123;</div><div class="line">    0% &#123;</div><div class="line">        <span class="attribute">opacity</span>: .<span class="number">5</span>;</div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">scale</span>(.8,.8);</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">scale</span>(.8,.8);</div><div class="line"></div><div class="line">    &#125;</div><div class="line">    100%&#123;</div><div class="line">        <span class="attribute">opacity</span>: <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#page1</span> &gt; <span class="selector-class">.p1_imooc</span>&#123;<span class="attribute">position</span>: absolute;<span class="attribute">right</span>: <span class="number">0</span>;<span class="attribute">bottom</span>:<span class="number">9vh</span>;<span class="attribute">left</span>:<span class="number">0</span>;<span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/p1_imooc.png"</span>) no-repeat center center;<span class="attribute">width</span>: <span class="number">27.656vw</span>;<span class="attribute">height</span>: <span class="number">18.63vh</span>;<span class="attribute">margin</span>: auto;&#125;</div><div class="line"><span class="selector-id">#page1</span> &gt; <span class="selector-class">.p1_words</span> &#123;<span class="attribute">font-size</span>: <span class="number">2.134rem</span>;<span class="attribute">position</span>: absolute;<span class="attribute">right</span>:<span class="number">0</span>;<span class="attribute">left</span>: <span class="number">0</span>;<span class="attribute">bottom</span>: <span class="number">48px</span>;<span class="attribute">text-align</span>: center;<span class="attribute">color</span>: <span class="number">#231815</span>;&#125;</div><div class="line"></div><div class="line"><span class="comment">/* page2 */</span></div><div class="line"></div><div class="line"><span class="selector-id">#page2</span> &#123;</div><div class="line">  	<span class="attribute">display</span>: none;</div><div class="line">  	<span class="comment">/*发生变化时逐渐变化*/</span></div><div class="line">    <span class="attribute">-webkit-transition</span>:.<span class="number">5s</span>;</div><div class="line">    <span class="attribute">transition</span>:.<span class="number">5s</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#page2</span><span class="selector-class">.fadeOut</span>&#123;</div><div class="line">  	<span class="comment">/*水平上不变，垂直方向上向上移动*/</span></div><div class="line">  	<span class="attribute">opacity</span>: .<span class="number">3</span>;</div><div class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">translate</span>(0,-100%);</div><div class="line">            <span class="attribute">transform</span>: <span class="built_in">translate</span>(0,-100%);</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#page2</span> &gt; <span class="selector-class">.p2_bg_loading</span>&#123;</div><div class="line">    <span class="attribute">z-index</span>: <span class="number">4</span>;</div><div class="line">    <span class="attribute">background</span>: <span class="number">#ef1639</span>;</div><div class="line">    <span class="attribute">-webkit-animation</span>: p2_bg_loading <span class="number">1s</span> linear forwards;</div><div class="line">    <span class="attribute">animation</span>: p2_bg_loading <span class="number">1s</span> linear forwards; </div><div class="line">&#125;</div><div class="line">@-<span class="keyword">webkit</span>-<span class="keyword">keyframes</span> p2_bg_loading&#123;</div><div class="line">    0%&#123;<span class="attribute">opacity</span>: <span class="number">1</span>;&#125;</div><div class="line">    100%&#123;<span class="attribute">opacity</span>: <span class="number">0</span>;&#125;</div><div class="line">&#125;</div><div class="line">@<span class="keyword">keyframes</span> p2_bg_loading&#123;</div><div class="line">    0%&#123;<span class="attribute">opacity</span>: <span class="number">1</span>;&#125;</div><div class="line">    100%&#123;<span class="attribute">opacity</span>: <span class="number">0</span>;&#125;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#page2</span> &gt; <span class="selector-class">.bg</span>&#123;</div><div class="line">  	<span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/p2_bg.jpg"</span>) no-repeat center center;</div><div class="line"> 	 <span class="comment">/* 使之自适应 */</span></div><div class="line"> 	 <span class="attribute">background-size</span>: <span class="number">100%</span></div><div class="line">&#125;</div><div class="line"><span class="selector-id">#page2</span> &gt; <span class="selector-class">.p2_circle</span>&#123;</div><div class="line">    <span class="attribute">position</span>: absolute;</div><div class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">margin</span>: auto;</div><div class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</div><div class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/p2_circle_outer.png"</span>) no-repeat center center;</div><div class="line">    <span class="attribute">background-size</span>: <span class="number">100%</span>;</div><div class="line">    <span class="attribute">width</span>: <span class="number">59.375vw</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">59.375vw</span>;</div><div class="line">    <span class="attribute">-webkit-animation</span>:p2_circle_outer <span class="number">1s</span> linear <span class="number">3s</span> infinite;</div><div class="line">            <span class="attribute">animation</span>:p2_circle_outer <span class="number">1s</span> linear <span class="number">3s</span> infinite;</div><div class="line">&#125;</div><div class="line">@-<span class="keyword">webkit</span>-<span class="keyword">keyframes</span> p2_circle_outer&#123;</div><div class="line">    0% &#123;</div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(0deg);</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(0deg);</div><div class="line">    &#125;</div><div class="line">    100% &#123;</div><div class="line">      	<span class="comment">/*注意三个图片转动的角度不能一样*/</span></div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(-360deg);</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-360deg);</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">@<span class="keyword">keyframes</span> p2_circle_outer&#123;</div><div class="line">    0% &#123;</div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(0deg);</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(0deg);</div><div class="line">    &#125;</div><div class="line">    100% &#123;</div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(-360deg);</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-360deg);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">/*在同一个位置添加多个图的方法，不能少了content*/</span></div><div class="line"><span class="selector-id">#page2</span> &gt; <span class="selector-class">.p2_circle</span><span class="selector-pseudo">::before</span>&#123;</div><div class="line">    <span class="attribute">position</span>: absolute;</div><div class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">margin</span>: auto;</div><div class="line">    <span class="attribute">content</span>: <span class="string">""</span>;</div><div class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</div><div class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/p2_circle_middle.png"</span>) no-repeat center center;</div><div class="line">    <span class="attribute">background-size</span>: <span class="number">100%</span>;</div><div class="line">    <span class="attribute">width</span>: <span class="number">45.625vw</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">45.625vw</span>;</div><div class="line">    <span class="attribute">-webkit-animation</span>:p2_circle_middle <span class="number">1s</span> linear <span class="number">2s</span> infinite;</div><div class="line">    <span class="attribute">animation</span>:p2_circle_middle <span class="number">1s</span> linear <span class="number">2s</span> infinite;</div><div class="line">&#125;</div><div class="line">@-<span class="keyword">webkit</span>-<span class="keyword">keyframes</span> p2_circle_middle&#123;</div><div class="line">    0% &#123;</div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(0deg);</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(0deg);</div><div class="line">    &#125;</div><div class="line">    100% &#123;</div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(720deg);</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(720deg);</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">@<span class="keyword">keyframes</span> p2_circle_middle&#123;</div><div class="line">    0% &#123;</div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(0deg);</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(0deg);</div><div class="line">    &#125;</div><div class="line">    100% &#123;</div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(720deg);</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(720deg);</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#page2</span> &gt; <span class="selector-class">.p2_circle</span><span class="selector-pseudo">::after</span>&#123;</div><div class="line">    <span class="attribute">position</span>: absolute;</div><div class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">margin</span>: auto;</div><div class="line">    <span class="attribute">content</span>: <span class="string">""</span>;</div><div class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</div><div class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/p2_circle_inner.png"</span>) no-repeat center center;</div><div class="line">    <span class="attribute">background-size</span>: <span class="number">100%</span>;</div><div class="line">    <span class="attribute">width</span>: <span class="number">39.9375vw</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">39.9375vw</span>;</div><div class="line">    <span class="attribute">-webkit-animation</span>:p2_circle_inner <span class="number">1s</span> linear <span class="number">1s</span> infinite;</div><div class="line">    <span class="attribute">animation</span>:p2_circle_inner <span class="number">1s</span> linear <span class="number">1s</span> infinite;</div><div class="line">&#125;</div><div class="line">@-<span class="keyword">webkit</span>-<span class="keyword">keyframes</span> p2_circle_inner&#123;</div><div class="line">    0% &#123;</div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(0deg);</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(0deg);</div><div class="line">    &#125;</div><div class="line">    100% &#123;</div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(-1080deg);</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-1080deg);</div><div class="line">        &#125;</div><div class="line">&#125;</div><div class="line">@<span class="keyword">keyframes</span> p2_circle_inner&#123;</div><div class="line">    0% &#123;</div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(0deg);</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(0deg);</div><div class="line">    &#125;</div><div class="line">    100% &#123;</div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(-1080deg);</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-1080deg);</div><div class="line">        &#125;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#page2</span> &gt; <span class="selector-class">.p2_2016</span>&#123;</div><div class="line">  <span class="attribute">position</span>: absolute;</div><div class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">margin</span>: auto;</div><div class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/p2_2016.png"</span>) no-repeat center center;</div><div class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">27.5vw</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">6.24vh</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* page3 */</span></div><div class="line"></div><div class="line"><span class="selector-id">#page3</span> &#123;</div><div class="line">  	<span class="attribute">display</span>: none;</div><div class="line">    <span class="attribute">-webkit-transition</span>: .<span class="number">5s</span>;</div><div class="line">    <span class="attribute">transition</span>: .<span class="number">5s</span>;&#125;</div><div class="line"><span class="selector-id">#page3</span><span class="selector-class">.fadeIn</span>&#123;</div><div class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">translate</span>(0,-100%);</div><div class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(0,-100%);</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#page3</span> &gt; <span class="selector-class">.bg</span>&#123;</div><div class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/p3_bg.jpg"</span>) no-repeat center center;</div><div class="line">  <span class="comment">/* 使之自适应 */</span></div><div class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#page3</span> &gt; <span class="selector-class">.p3_logo</span> &#123;</div><div class="line">  <span class="attribute">width</span>:<span class="number">34.6875vw</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">6.327vh</span>;</div><div class="line">  <span class="attribute">position</span>: absolute;</div><div class="line">  <span class="attribute">top</span>:<span class="number">7.82vh</span>;</div><div class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">margin</span>: auto;</div><div class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/p3_logo.png"</span>) no-repeat center center;</div><div class="line">  <span class="comment">/* 撑到指定的宽度 */</span></div><div class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#page3</span> &gt; <span class="selector-class">.p3_title</span>&#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">48.125vw</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">50vh</span>;</div><div class="line">  <span class="attribute">position</span>: absolute;</div><div class="line">  <span class="attribute">top</span>: <span class="number">21vh</span>;</div><div class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">margin</span>: auto;</div><div class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/p3_title.png"</span>) no-repeat center center;</div><div class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#page3</span> &gt; <span class="selector-class">.p3_second</span>&#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">22.8125vw</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">41.625vh</span>;</div><div class="line">  <span class="attribute">position</span>: absolute;</div><div class="line">  <span class="attribute">top</span>: <span class="number">25.48vh</span>;</div><div class="line">  <span class="attribute">left</span>: <span class="number">3.75vw</span>;</div><div class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/p3_couplet_second.png"</span>) no-repeat center center;</div><div class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#page3</span> &gt; <span class="selector-class">.p3_first</span>&#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">22.8125vw</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">41.625vh</span>;</div><div class="line">  <span class="attribute">position</span>: absolute;</div><div class="line">  <span class="attribute">top</span>: <span class="number">25.48vh</span>;</div><div class="line">  <span class="attribute">right</span>: <span class="number">3.75vw</span>;</div><div class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/p3_couplet_first.png"</span>) no-repeat center center;</div><div class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#page3</span> &gt; <span class="selector-class">.p3_blessing</span> &#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">32vw</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">32vw</span>;</div><div class="line">    <span class="attribute">position</span>: absolute;</div><div class="line">    <span class="attribute">bottom</span>: <span class="number">10vh</span>;</div><div class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">margin</span>: auto;</div><div class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</div><div class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">"../images/p3_blessing.png"</span>) no-repeat center center;</div><div class="line">    <span class="comment">/*撑到指定的宽度*/</span></div><div class="line">  	<span class="attribute">background-size</span>: <span class="number">100%</span>;</div><div class="line">    <span class="attribute">-webkit-animation</span>:p3_blessing <span class="number">3s</span> linear infinite;</div><div class="line">    <span class="attribute">animation</span>:p3_blessing <span class="number">3s</span> linear infinite;</div><div class="line">&#125;</div><div class="line">@-<span class="keyword">webkit</span>-<span class="keyword">keyframes</span> p3_blessing&#123;</div><div class="line">    0% &#123;</div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(0deg);</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(0deg);</div><div class="line">    &#125;</div><div class="line">    100% &#123;</div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(360deg);</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(360deg);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">@<span class="keyword">keyframes</span> p3_blessing&#123;</div><div class="line">    0% &#123;</div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(0deg);</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(0deg);</div><div class="line">    &#125;</div><div class="line">    100% &#123;</div><div class="line">        <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(360deg);</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(360deg);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="动态效果部分"><a href="#动态效果部分" class="headerlink" title="动态效果部分"></a>动态效果部分</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//获取元素</span></div><div class="line"><span class="keyword">var</span> page1 = <span class="built_in">document</span>.getElementById(<span class="string">"page1"</span>);</div><div class="line"><span class="keyword">var</span> page2 = <span class="built_in">document</span>.getElementById(<span class="string">"page2"</span>);</div><div class="line"><span class="keyword">var</span> page3 = <span class="built_in">document</span>.getElementById(<span class="string">"page3"</span>);</div><div class="line"><span class="keyword">var</span> music = <span class="built_in">document</span>.getElementById(<span class="string">"music"</span>);</div><div class="line"><span class="keyword">var</span> audio = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"audio"</span>)[<span class="number">0</span>];</div><div class="line"><span class="comment">//当音乐播放完停止时候，自动停止光盘旋转效果</span></div><div class="line">audio.addEventListener(<span class="string">"ended"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">    music.setAttribute(<span class="string">"class"</span>,<span class="string">""</span>);</div><div class="line">&#125;,<span class="literal">false</span>);</div><div class="line"><span class="comment">//点击音乐图标，控制音乐播放效果   适合触屏操作</span></div><div class="line">music.addEventListener(<span class="string">"touchstart"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(audio.paused)&#123;</div><div class="line">        audio.play();</div><div class="line">        <span class="keyword">this</span>.setAttribute(<span class="string">"class"</span>,<span class="string">"play"</span>);</div><div class="line">    &#125;<span class="keyword">else</span>&#123; </div><div class="line">        audio.pause();    </div><div class="line">        <span class="keyword">this</span>.setAttribute(<span class="string">"class"</span>,<span class="string">""</span>);</div><div class="line">    &#125;;</div><div class="line">&#125;,<span class="literal">false</span>);</div><div class="line"><span class="comment">//点击屏幕，开启好运2016</span></div><div class="line">page1.addEventListener(<span class="string">"touchstart"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">    page1.style.display = <span class="string">"none"</span>;</div><div class="line">    page2.style.display = <span class="string">"block"</span>;</div><div class="line">    page3.style.display = <span class="string">"block"</span>;</div><div class="line">     page3.style.top = <span class="string">"100%"</span>;</div><div class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        page2.setAttribute(<span class="string">"class"</span>,<span class="string">"page fadeOut"</span>)</div><div class="line">        page3.setAttribute(<span class="string">"class"</span>,<span class="string">"page fadeIn"</span>)</div><div class="line"></div><div class="line">    &#125;,<span class="number">5500</span>);</div><div class="line">&#125;,<span class="literal">false</span>);</div></pre></td></tr></table></figure>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>做完这个项目，觉得<strong>前端</strong>要积累还真是很多啊。</p>
<p>不管是编码工具，测试方法，要关注的地方都十分的多，还是需要继续练习啊！</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;目标&quot;&gt;&lt;a href=&quot;#目标&quot; class=&quot;headerlink&quot; title=&quot;目标&quot;&gt;&lt;/a&gt;目标&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;根据设计稿对项目进行整套项目的需求进行剖析并开发。&lt;/li&gt;
&lt;li&gt;对项目开发流程需要有一个基本的了解。&lt;/li&gt;
&lt;li&gt;运
    
    </summary>
    
      <category term="移动终端" scheme="http:/dannyzhaoo.github.io/categories/%E7%A7%BB%E5%8A%A8%E7%BB%88%E7%AB%AF/"/>
    
    
      <category term="HTML5" scheme="http:/dannyzhaoo.github.io/tags/HTML5/"/>
    
      <category term="CSS3" scheme="http:/dannyzhaoo.github.io/tags/CSS3/"/>
    
  </entry>
  
  <entry>
    <title>一个基于node.js的web应用</title>
    <link href="http:/dannyzhaoo.github.io/2017/06/03/%E4%B8%80%E4%B8%AA%E5%9F%BA%E4%BA%8Enode-js%E7%9A%84web%E5%BA%94%E7%94%A8/"/>
    <id>http:/dannyzhaoo.github.io/2017/06/03/一个基于node-js的web应用/</id>
    <published>2017-06-03T05:57:13.000Z</published>
    <updated>2017-09-05T11:40:44.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="web应用的目标"><a href="#web应用的目标" class="headerlink" title="web应用的目标"></a>web应用的目标</h2><ul>
<li>用户可以通过浏览器使用。</li>
<li>当用户请求<a href="http://domain/start时，可以看到一个欢迎界面，页面上有一个文件上传的表单。" target="_blank" rel="external">http://domain/start时，可以看到一个欢迎界面，页面上有一个文件上传的表单。</a></li>
<li>用户可以选择一个图片并提交表单，随后文件被上传到<a href="http://domain/upload，该页面完成上传后会把图片显示在页面上。" target="_blank" rel="external">http://domain/upload，该页面完成上传后会把图片显示在页面上。</a></li>
</ul>
<h2 id="应用不同模块分析"><a href="#应用不同模块分析" class="headerlink" title="应用不同模块分析"></a>应用不同模块分析</h2><ul>
<li>需要一个<strong>http服务器</strong>。</li>
<li>对于不同的请求，会根据请求的url，服务器给出不同的响应。因此，需要一个<strong>路由</strong>，用于<strong>把请求对应到请求处理程序</strong>。</li>
<li>当请求被服务器接受并通过路由传递后，需要对其进行处理，因此需要<strong>请求处理程序</strong>。</li>
<li>处理post数据，并且并且把数据封装成更友好的格式传递给<strong>请求处理程序</strong>，因此需要<strong>请求数据处理功能</strong>。</li>
<li>要把内容显示出来，这意味着我们需要一些<strong>视图逻辑</strong>供<strong>请求处理程序</strong>使用，以便将内容发送给用户的浏览器。</li>
<li>用户需要上传图片，所以需要<strong>上传处理功能</strong>来处理这方面的细节。</li>
</ul>
<h2 id="构建应用模块"><a href="#构建应用模块" class="headerlink" title="构建应用模块"></a>构建应用模块</h2><h3 id="一个基础的HTTP服务器"><a href="#一个基础的HTTP服务器" class="headerlink" title="一个基础的HTTP服务器"></a>一个基础的HTTP服务器</h3><p>一个保存HTTP服务器代码—server.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//请求Node.js自带的http模块，并且赋值给http变量</span></div><div class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">"http"</span>);</div><div class="line"><span class="comment">//指定http服务器监听的端口号</span></div><div class="line"><span class="comment">//传递的参数是无论何时收到请求，这个函数就会被调用</span></div><div class="line">http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">request,response</span>)</span>&#123;</div><div class="line">    response.writeHead(<span class="number">200</span>,&#123;<span class="string">"Content-Type"</span>:<span class="string">"text/plain"</span>&#125;);</div><div class="line">    response.write(<span class="string">"Hello World"</span>);</div><div class="line">    response.end();</div><div class="line">&#125;).listen(<span class="number">8888</span>);</div></pre></td></tr></table></figure>
<p>此时，打开浏览器就访问<a href="http://localhost:8888/，上面就写着“Hello" target="_blank" rel="external">http://localhost:8888/，上面就写着“Hello</a> World ”。</p>
<p>现在需要把server.js变成一个真正的Node.js模块，使之可以被index.js主文件使用。这不需求做很多，只要把希望提供其功能的部分导出到请求这个模块的脚本。</p>
<p>把server.js文件修改如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">"http"</span>);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">onRequest</span>(<span class="params">request, response</span>) </span>&#123;</div><div class="line">    <span class="comment">//收到请求输出</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"Request received."</span>);</div><div class="line">    response.writeHead(<span class="number">200</span>, &#123;<span class="string">"Content-Type"</span>: <span class="string">"text/plain"</span>&#125;);</div><div class="line">    response.write(<span class="string">"Hello World"</span>);</div><div class="line">    response.end();</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  http.createServer(onRequest).listen(<span class="number">8888</span>);</div><div class="line">  <span class="comment">//启动服务器输出</span></div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"Server has started."</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line">exports.start = start;</div></pre></td></tr></table></figure>
<p>整个服务器的主文件— index.js文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> server = <span class="built_in">require</span>(<span class="string">"./server"</span>);</div><div class="line">server.start();</div></pre></td></tr></table></figure>
<h3 id="对请求进行路由"><a href="#对请求进行路由" class="headerlink" title="对请求进行路由"></a>对请求进行路由</h3><p>增加能找出浏览器请求的URL路径</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">"http"</span>);</div><div class="line"><span class="keyword">var</span> url = <span class="built_in">require</span>(<span class="string">"url"</span>);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params">route</span>) </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">onRequest</span>(<span class="params">request, response</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> pathname = url.parse(request.url).pathname;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"Request for "</span> + pathname + <span class="string">" received."</span>);</div><div class="line">    </div><div class="line">    route(pathname);</div><div class="line">    </div><div class="line">    response.writeHead(<span class="number">200</span>, &#123;<span class="string">"Content-Type"</span>: <span class="string">"text/plain"</span>&#125;);</div><div class="line">    response.write(<span class="string">"Hello World"</span>);</div><div class="line">    response.end();</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  http.createServer(onRequest).listen(<span class="number">8888</span>);</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"Server has started."</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line">exports.start = start;</div></pre></td></tr></table></figure>
<p>一个路由文件— router.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">route</span>(<span class="params">pathname</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"About to route a request for "</span> + pathname);</div><div class="line">&#125;</div><div class="line"></div><div class="line">exports.route = route;</div></pre></td></tr></table></figure>
<p>修改index.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> server = <span class="built_in">require</span>(<span class="string">"./server"</span>);</div><div class="line"><span class="keyword">var</span> router = <span class="built_in">require</span>(<span class="string">"./router"</span>);</div><div class="line"></div><div class="line">server.start(router.route);</div></pre></td></tr></table></figure>
<h3 id="真正的请求处理程序"><a href="#真正的请求处理程序" class="headerlink" title="真正的请求处理程序"></a>真正的请求处理程序</h3><p>请求处理模块— requestHandlers.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"Request handler 'start' was called."</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">upload</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"Request handler 'upload' was called."</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line">exports.start = start;</div><div class="line">exports.upload = upload;</div></pre></td></tr></table></figure>
<p>注意：当请求处理程序的数量增加的时候，我们不想每次都要增加从请求到处理程序的映射。</p>
<p>所以需要修改文件index.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> server = <span class="built_in">require</span>(<span class="string">"./server"</span>);</div><div class="line"><span class="keyword">var</span> router = <span class="built_in">require</span>(<span class="string">"./router"</span>);</div><div class="line"><span class="keyword">var</span> requestHandlers = <span class="built_in">require</span>(<span class="string">"./requestHandlers"</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> handle = &#123;&#125;</div><div class="line">handle[<span class="string">"/"</span>] = requestHandlers.start;</div><div class="line">handle[<span class="string">"/start"</span>] = requestHandlers.start;</div><div class="line">handle[<span class="string">"/upload"</span>] = requestHandlers.upload;</div><div class="line"></div><div class="line">server.start(router.route, handle);</div></pre></td></tr></table></figure>
<p>修改server.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">"http"</span>);</div><div class="line"><span class="keyword">var</span> url = <span class="built_in">require</span>(<span class="string">"url"</span>);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params">route, handle</span>) </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">onRequest</span>(<span class="params">request, response</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> pathname = url.parse(request.url).pathname;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"Request for "</span> + pathname + <span class="string">" received."</span>);</div><div class="line"></div><div class="line">    route(handle, pathname);</div><div class="line"></div><div class="line">    response.writeHead(<span class="number">200</span>, &#123;<span class="string">"Content-Type"</span>: <span class="string">"text/plain"</span>&#125;);</div><div class="line">    response.write(<span class="string">"Hello World"</span>);</div><div class="line">    response.end();</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  http.createServer(onRequest).listen(<span class="number">8888</span>);</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"Server has started."</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line">exports.start = start;</div></pre></td></tr></table></figure>
<p>修改route.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">route</span>(<span class="params">handle, pathname</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"About to route a request for "</span> + pathname);</div><div class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> handle[pathname] === <span class="string">'function'</span>) &#123;</div><div class="line">    handle[pathname]();</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"No request handler found for "</span> + pathname);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">exports.route = route;</div></pre></td></tr></table></figure>
<h3 id="请求处理程序响应请求"><a href="#请求处理程序响应请求" class="headerlink" title="请求处理程序响应请求"></a>请求处理程序响应请求</h3><p>修改requestHandler.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"Request handler 'start' was called."</span>);</div><div class="line">  <span class="keyword">return</span> <span class="string">"Hello Start"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">upload</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"Request handler 'upload' was called."</span>);</div><div class="line">  <span class="keyword">return</span> <span class="string">"Hello Upload"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">exports.start = start;</div><div class="line">exports.upload = upload;</div></pre></td></tr></table></figure>
<p>修改router.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">route</span>(<span class="params">handle, pathname</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"About to route a request for "</span> + pathname);</div><div class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> handle[pathname] === <span class="string">'function'</span>) &#123;</div><div class="line">    <span class="keyword">return</span> handle[pathname]();</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"No request handler found for "</span> + pathname);</div><div class="line">    <span class="keyword">return</span> <span class="string">"404 Not found"</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">exports.route = route;</div></pre></td></tr></table></figure>
<p>修改server.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">"http"</span>);</div><div class="line"><span class="keyword">var</span> url = <span class="built_in">require</span>(<span class="string">"url"</span>);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params">route, handle</span>) </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">onRequest</span>(<span class="params">request, response</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> pathname = url.parse(request.url).pathname;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"Request for "</span> + pathname + <span class="string">" received."</span>);</div><div class="line"></div><div class="line">    response.writeHead(<span class="number">200</span>, &#123;<span class="string">"Content-Type"</span>: <span class="string">"text/plain"</span>&#125;);</div><div class="line">    <span class="keyword">var</span> content = route(handle, pathname)</div><div class="line">    response.write(content);</div><div class="line">    response.end();</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  http.createServer(onRequest).listen(<span class="number">8888</span>);</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"Server has started."</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line">exports.start = start;</div></pre></td></tr></table></figure>
<h3 id="变成非阻塞式"><a href="#变成非阻塞式" class="headerlink" title="变成非阻塞式"></a>变成非阻塞式</h3><p>就是将<em>response</em>对象（从服务器的回调函数<em>onRequest()</em>获取）通过请求路由传递给请求处理程序。 随后，处理程序就可以采用该对象上的函数来对请求作出响应。</p>
<p>修改server.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">"http"</span>);</div><div class="line"><span class="keyword">var</span> url = <span class="built_in">require</span>(<span class="string">"url"</span>);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params">route, handle</span>) </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">onRequest</span>(<span class="params">request, response</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> pathname = url.parse(request.url).pathname;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"Request for "</span> + pathname + <span class="string">" received."</span>);</div><div class="line"></div><div class="line">    route(handle, pathname, response);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  http.createServer(onRequest).listen(<span class="number">8888</span>);</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"Server has started."</span>);</div><div class="line">&#125;</div><div class="line">exports.start = start;</div></pre></td></tr></table></figure>
<p>修改router.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">route</span>(<span class="params">handle, pathname, response</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"About to route a request for "</span> + pathname);</div><div class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> handle[pathname] === <span class="string">'function'</span>) &#123;</div><div class="line">    handle[pathname](response);</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"No request handler found for "</span> + pathname);</div><div class="line">    response.writeHead(<span class="number">404</span>, &#123;<span class="string">"Content-Type"</span>: <span class="string">"text/plain"</span>&#125;);</div><div class="line">    response.write(<span class="string">"404 Not found"</span>);</div><div class="line">    response.end();</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">exports.route = route;</div></pre></td></tr></table></figure>
<p>修改requestHandler.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> exec = <span class="built_in">require</span>(<span class="string">"child_process"</span>).exec;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"Request handler 'start' was called."</span>);</div><div class="line"></div><div class="line">  exec(<span class="string">"ls -lah"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">error, stdout, stderr</span>) </span>&#123;</div><div class="line">    response.writeHead(<span class="number">200</span>, &#123;<span class="string">"Content-Type"</span>: <span class="string">"text/plain"</span>&#125;);</div><div class="line">    response.write(stdout);</div><div class="line">    response.end();</div><div class="line">  &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">upload</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"Request handler 'upload' was called."</span>);</div><div class="line">  response.writeHead(<span class="number">200</span>, &#123;<span class="string">"Content-Type"</span>: <span class="string">"text/plain"</span>&#125;);</div><div class="line">  response.write(<span class="string">"Hello Upload"</span>);</div><div class="line">  response.end();</div><div class="line">&#125;</div><div class="line"></div><div class="line">exports.start = start;</div><div class="line">exports.upload = upload;</div></pre></td></tr></table></figure>
<h2 id="真正的应用"><a href="#真正的应用" class="headerlink" title="真正的应用"></a>真正的应用</h2><h3 id="返回有意义的"><a href="#返回有意义的" class="headerlink" title="返回有意义的"></a>返回有意义的</h3><p>修改requestHandler.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"Request handler 'start' was called."</span>);</div><div class="line"></div><div class="line">  <span class="keyword">var</span> body = <span class="string">'&lt;html&gt;'</span>+</div><div class="line">    <span class="string">'&lt;head&gt;'</span>+</div><div class="line">    <span class="string">'&lt;meta http-equiv="Content-Type" content="text/html; '</span>+</div><div class="line">    <span class="string">'charset=UTF-8" /&gt;'</span>+</div><div class="line">    <span class="string">'&lt;/head&gt;'</span>+</div><div class="line">    <span class="string">'&lt;body&gt;'</span>+</div><div class="line">    <span class="string">'&lt;form action="/upload" method="post"&gt;'</span>+</div><div class="line">    <span class="string">'&lt;textarea name="text" rows="20" cols="60"&gt;&lt;/textarea&gt;'</span>+</div><div class="line">    <span class="string">'&lt;input type="submit" value="Submit text" /&gt;'</span>+</div><div class="line">    <span class="string">'&lt;/form&gt;'</span>+</div><div class="line">    <span class="string">'&lt;/body&gt;'</span>+</div><div class="line">    <span class="string">'&lt;/html&gt;'</span>;</div><div class="line"></div><div class="line">    response.writeHead(<span class="number">200</span>, &#123;<span class="string">"Content-Type"</span>: <span class="string">"text/html"</span>&#125;);</div><div class="line">    response.write(body);</div><div class="line">    response.end();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">upload</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"Request handler 'upload' was called."</span>);</div><div class="line">  response.writeHead(<span class="number">200</span>, &#123;<span class="string">"Content-Type"</span>: <span class="string">"text/plain"</span>&#125;);</div><div class="line">  response.write(<span class="string">"Hello Upload"</span>);</div><div class="line">  response.end();</div><div class="line">&#125;</div><div class="line"></div><div class="line">exports.start = start;</div><div class="line">exports.upload = upload;</div></pre></td></tr></table></figure>
<h3 id="修改成非阻塞式"><a href="#修改成非阻塞式" class="headerlink" title="修改成非阻塞式"></a>修改成非阻塞式</h3><p>修改server.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">"http"</span>);</div><div class="line"><span class="keyword">var</span> url = <span class="built_in">require</span>(<span class="string">"url"</span>);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params">route, handle</span>) </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">onRequest</span>(<span class="params">request, response</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> postData = <span class="string">""</span>;</div><div class="line">    <span class="keyword">var</span> pathname = url.parse(request.url).pathname;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"Request for "</span> + pathname + <span class="string">" received."</span>);</div><div class="line"></div><div class="line">    request.setEncoding(<span class="string">"utf8"</span>);</div><div class="line"></div><div class="line">    request.addListener(<span class="string">"data"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">postDataChunk</span>) </span>&#123;</div><div class="line">      postData += postDataChunk;</div><div class="line">      <span class="built_in">console</span>.log(<span class="string">"Received POST data chunk '"</span>+</div><div class="line">      postDataChunk + <span class="string">"'."</span>);</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    request.addListener(<span class="string">"end"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      route(handle, pathname, response, postData);</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  http.createServer(onRequest).listen(<span class="number">8888</span>);</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"Server has started."</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line">exports.start = start;</div></pre></td></tr></table></figure>
<p>修改router.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">route</span>(<span class="params">handle, pathname, response, postData</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"About to route a request for "</span> + pathname);</div><div class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> handle[pathname] === <span class="string">'function'</span>) &#123;</div><div class="line">    handle[pathname](response, postData);</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"No request handler found for "</span> + pathname);</div><div class="line">    response.writeHead(<span class="number">404</span>, &#123;<span class="string">"Content-Type"</span>: <span class="string">"text/plain"</span>&#125;);</div><div class="line">    response.write(<span class="string">"404 Not found"</span>);</div><div class="line">    response.end();</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">exports.route = route;</div></pre></td></tr></table></figure>
<p>修改requestHandlers.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> querystring = <span class="built_in">require</span>(<span class="string">"querystring"</span>);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params">response, postData</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"Request handler 'start' was called."</span>);</div><div class="line"></div><div class="line">  <span class="keyword">var</span> body = <span class="string">'&lt;html&gt;'</span>+</div><div class="line">    <span class="string">'&lt;head&gt;'</span>+</div><div class="line">    <span class="string">'&lt;meta http-equiv="Content-Type" content="text/html; '</span>+</div><div class="line">    <span class="string">'charset=UTF-8" /&gt;'</span>+</div><div class="line">    <span class="string">'&lt;/head&gt;'</span>+</div><div class="line">    <span class="string">'&lt;body&gt;'</span>+</div><div class="line">    <span class="string">'&lt;form action="/upload" method="post"&gt;'</span>+</div><div class="line">    <span class="string">'&lt;textarea name="text" rows="20" cols="60"&gt;&lt;/textarea&gt;'</span>+</div><div class="line">    <span class="string">'&lt;input type="submit" value="Submit text" /&gt;'</span>+</div><div class="line">    <span class="string">'&lt;/form&gt;'</span>+</div><div class="line">    <span class="string">'&lt;/body&gt;'</span>+</div><div class="line">    <span class="string">'&lt;/html&gt;'</span>;</div><div class="line"></div><div class="line">    response.writeHead(<span class="number">200</span>, &#123;<span class="string">"Content-Type"</span>: <span class="string">"text/html"</span>&#125;);</div><div class="line">    response.write(body);</div><div class="line">    response.end();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">upload</span>(<span class="params">response, postData</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"Request handler 'upload' was called."</span>);</div><div class="line">  response.writeHead(<span class="number">200</span>, &#123;<span class="string">"Content-Type"</span>: <span class="string">"text/plain"</span>&#125;);</div><div class="line">  response.write(<span class="string">"You've sent the text: "</span>+</div><div class="line">  querystring.parse(postData).text);</div><div class="line">  response.end();</div><div class="line">&#125;</div><div class="line"></div><div class="line">exports.start = start;</div><div class="line">exports.upload = upload;</div></pre></td></tr></table></figure>
<h2 id="处理文件上传"><a href="#处理文件上传" class="headerlink" title="处理文件上传"></a>处理文件上传</h2><h3 id="下载formidable"><a href="#下载formidable" class="headerlink" title="下载formidable"></a>下载formidable</h3><p>安装这个是为了处理POST数据。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install formidable</div></pre></td></tr></table></figure>
<h3 id="修改requestHandlers-js文件"><a href="#修改requestHandlers-js文件" class="headerlink" title="修改requestHandlers.js文件"></a>修改requestHandlers.js文件</h3><p>注意图片保存的本地位置，一般windows上不是保存在/tmp/下的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> querystring = <span class="built_in">require</span>(<span class="string">"querystring"</span>),</div><div class="line">    fs = <span class="built_in">require</span>(<span class="string">"fs"</span>),</div><div class="line">    formidable = <span class="built_in">require</span>(<span class="string">"formidable"</span>);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"Request handler 'start' was called."</span>);</div><div class="line"></div><div class="line">  <span class="keyword">var</span> body = <span class="string">'&lt;html&gt;'</span>+</div><div class="line">    <span class="string">'&lt;head&gt;'</span>+</div><div class="line">    <span class="string">'&lt;meta http-equiv="Content-Type" content="text/html; '</span>+</div><div class="line">    <span class="string">'charset=UTF-8" /&gt;'</span>+</div><div class="line">    <span class="string">'&lt;/head&gt;'</span>+</div><div class="line">    <span class="string">'&lt;body&gt;'</span>+</div><div class="line">    <span class="string">'&lt;form action="/upload" enctype="multipart/form-data" '</span>+</div><div class="line">    <span class="string">'method="post"&gt;'</span>+</div><div class="line">    <span class="string">'&lt;input type="file" name="upload" multiple="multiple"&gt;'</span>+</div><div class="line">    <span class="string">'&lt;input type="submit" value="Upload file" /&gt;'</span>+</div><div class="line">    <span class="string">'&lt;/form&gt;'</span>+</div><div class="line">    <span class="string">'&lt;/body&gt;'</span>+</div><div class="line">    <span class="string">'&lt;/html&gt;'</span>;</div><div class="line"></div><div class="line">    response.writeHead(<span class="number">200</span>, &#123;<span class="string">"Content-Type"</span>: <span class="string">"text/html"</span>&#125;);</div><div class="line">    response.write(body);</div><div class="line">    response.end();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">upload</span>(<span class="params">response, request</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"Request handler 'upload' was called."</span>);</div><div class="line"></div><div class="line">  <span class="keyword">var</span> form = <span class="keyword">new</span> formidable.IncomingForm();</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"about to parse"</span>);</div><div class="line">  form.parse(request, <span class="function"><span class="keyword">function</span>(<span class="params">error, fields, files</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"parsing done"</span>);</div><div class="line">    fs.renameSync(files.upload.path, <span class="string">"/tmp/test.png"</span>);</div><div class="line">    response.writeHead(<span class="number">200</span>, &#123;<span class="string">"Content-Type"</span>: <span class="string">"text/html"</span>&#125;);</div><div class="line">    response.write(<span class="string">"received image:&lt;br/&gt;"</span>);</div><div class="line">    response.write(<span class="string">"&lt;img src='/show' /&gt;"</span>);</div><div class="line">    response.end();</div><div class="line">  &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"Request handler 'show' was called."</span>);</div><div class="line">  fs.readFile(<span class="string">"/tmp/test.png"</span>, <span class="string">"binary"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">error, file</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span>(error) &#123;</div><div class="line">      response.writeHead(<span class="number">500</span>, &#123;<span class="string">"Content-Type"</span>: <span class="string">"text/plain"</span>&#125;);</div><div class="line">      response.write(error + <span class="string">"\n"</span>);</div><div class="line">      response.end();</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      response.writeHead(<span class="number">200</span>, &#123;<span class="string">"Content-Type"</span>: <span class="string">"image/png"</span>&#125;);</div><div class="line">      response.write(file, <span class="string">"binary"</span>);</div><div class="line">      response.end();</div><div class="line">    &#125;</div><div class="line">  &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">exports.start = start;</div><div class="line">exports.upload = upload;</div><div class="line">exports.show = show;</div></pre></td></tr></table></figure>
<h3 id="修改index-js文件"><a href="#修改index-js文件" class="headerlink" title="修改index.js文件"></a>修改index.js文件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> server = <span class="built_in">require</span>(<span class="string">"./server"</span>);</div><div class="line"><span class="keyword">var</span> router = <span class="built_in">require</span>(<span class="string">"./router"</span>);</div><div class="line"><span class="keyword">var</span> requestHandlers = <span class="built_in">require</span>(<span class="string">"./requestHandlers"</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> handle = &#123;&#125;</div><div class="line">handle[<span class="string">"/"</span>] = requestHandlers.start;</div><div class="line">handle[<span class="string">"/start"</span>] = requestHandlers.start;</div><div class="line">handle[<span class="string">"/upload"</span>] = requestHandlers.upload;</div><div class="line">handle[<span class="string">"/show"</span>] = requestHandlers.show;</div><div class="line"></div><div class="line">server.start(router.route, handle);</div></pre></td></tr></table></figure>
<h3 id="修改server-js文件"><a href="#修改server-js文件" class="headerlink" title="修改server.js文件"></a>修改server.js文件</h3><p>这部分移除对POSTData的处理。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">"http"</span>);</div><div class="line"><span class="keyword">var</span> url = <span class="built_in">require</span>(<span class="string">"url"</span>);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">start</span>(<span class="params">route, handle</span>) </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">onRequest</span>(<span class="params">request, response</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> pathname = url.parse(request.url).pathname;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"Request for "</span> + pathname + <span class="string">" received."</span>);</div><div class="line">    route(handle, pathname, response, request);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  http.createServer(onRequest).listen(<span class="number">8888</span>);</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"Server has started."</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line">exports.start = start;</div></pre></td></tr></table></figure>
<h3 id="修改router-js文件"><a href="#修改router-js文件" class="headerlink" title="修改router.js文件"></a>修改router.js文件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">route</span>(<span class="params">handle, pathname, response, request</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"About to route a request for "</span> + pathname);</div><div class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> handle[pathname] === <span class="string">'function'</span>) &#123;</div><div class="line">    handle[pathname](response, request);</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"No request handler found for "</span> + pathname);</div><div class="line">    response.writeHead(<span class="number">404</span>, &#123;<span class="string">"Content-Type"</span>: <span class="string">"text/html"</span>&#125;);</div><div class="line">    response.write(<span class="string">"404 Not found"</span>);</div><div class="line">    response.end();</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">exports.route = route;</div></pre></td></tr></table></figure>
<p>这样就算结束了，但是看起来这个更像是写了一个express，也算是有助于理解node的部分运作原理吧。</p>
<p>我的这个参考的是<a href="https://www.nodebeginner.org/index-zh-cn.html" target="_blank" rel="external">node入门</a>，上面讲的比我的详细多了。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;web应用的目标&quot;&gt;&lt;a href=&quot;#web应用的目标&quot; class=&quot;headerlink&quot; title=&quot;web应用的目标&quot;&gt;&lt;/a&gt;web应用的目标&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;用户可以通过浏览器使用。&lt;/li&gt;
&lt;li&gt;当用户请求&lt;a href=&quot;http
    
    </summary>
    
      <category term="编程语言" scheme="http:/dannyzhaoo.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    
      <category term="NodeJS" scheme="http:/dannyzhaoo.github.io/tags/NodeJS/"/>
    
  </entry>
  
  <entry>
    <title>电子词典mdict的安装</title>
    <link href="http:/dannyzhaoo.github.io/2017/06/03/%E7%94%B5%E5%AD%90%E8%AF%8D%E5%85%B8%E7%9A%84%E5%AE%89%E8%A3%85/"/>
    <id>http:/dannyzhaoo.github.io/2017/06/03/电子词典的安装/</id>
    <published>2017-06-03T02:26:53.000Z</published>
    <updated>2017-09-05T11:38:15.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><h3 id="下载好Mdict"><a href="#下载好Mdict" class="headerlink" title="下载好Mdict"></a>下载好Mdict</h3><p>在<a href="https://www.mdict.cn/wp/?page_id=5227&amp;lang=zh" target="_blank" rel="external">mdcit</a>上下载windows 1.3RC4</p>
<h3 id="下载词典包"><a href="#下载词典包" class="headerlink" title="下载词典包"></a>下载词典包</h3><p>词典包的资源地址:<a href="http://dwz/cn/527Bso" target="_blank" rel="external">http://dwz/cn/527Bso</a> 密码是：7rf3</p>
<p>建议将上面所有的词典资源都下载下来</p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><h3 id="导入词库"><a href="#导入词库" class="headerlink" title="导入词库"></a>导入词库</h3><p>打开mdict.exe，然后点击上面菜单的<strong>词库</strong>，再点击<strong>词库管理</strong>，导入刚才下载好的词典包</p>
<h3 id="联合查询"><a href="#联合查询" class="headerlink" title="联合查询"></a>联合查询</h3><blockquote>
<p>这样做的目的是每次查询都能在每个词典中进行查询</p>
</blockquote>
<p>在<strong>词库管理</strong>界面，点击新建分组，进入分组后，点击<strong>加入词典</strong>，将准备一起查询的词典放在这里，然后点击<strong>向上</strong>，之后在这个页面点击<strong>标记联合</strong>。</p>
<p>在这个分组里面，同时可以通过点击右边菜单的<strong>向上移</strong>、<strong>向下移</strong>调整查询结果显示的前后顺序。</p>
<h3 id="复制粘贴"><a href="#复制粘贴" class="headerlink" title="复制粘贴"></a>复制粘贴</h3><p>一般这个软件是不能粘贴、复制的，因为一旦选中就会自动开始查询，所以需要另外设置一下。</p>
<p>点击 <strong>文件</strong>里面的<strong>选项</strong>取消<strong>自动查找高亮文字</strong>，然后确定，就可以复制了。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;下载&quot;&gt;&lt;a href=&quot;#下载&quot; class=&quot;headerlink&quot; title=&quot;下载&quot;&gt;&lt;/a&gt;下载&lt;/h2&gt;&lt;h3 id=&quot;下载好Mdict&quot;&gt;&lt;a href=&quot;#下载好Mdict&quot; class=&quot;headerlink&quot; title=&quot;下载好Mdict&quot;
    
    </summary>
    
      <category term="阅读" scheme="http:/dannyzhaoo.github.io/categories/%E9%98%85%E8%AF%BB/"/>
    
    
      <category term="mdict" scheme="http:/dannyzhaoo.github.io/tags/mdict/"/>
    
      <category term="English" scheme="http:/dannyzhaoo.github.io/tags/English/"/>
    
  </entry>
  
  <entry>
    <title>配置客户端git</title>
    <link href="http:/dannyzhaoo.github.io/2017/06/02/%E9%85%8D%E7%BD%AE%E5%AE%A2%E6%88%B7%E7%AB%AFgit/"/>
    <id>http:/dannyzhaoo.github.io/2017/06/02/配置客户端git/</id>
    <published>2017-06-02T10:30:21.000Z</published>
    <updated>2017-09-05T11:40:17.000Z</updated>
    
    <content type="html"><![CDATA[<p>配置客户端git，让git可以push和pull</p>
<h2 id="设置名字和邮箱地址"><a href="#设置名字和邮箱地址" class="headerlink" title="设置名字和邮箱地址"></a>设置名字和邮箱地址</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span> git config --global user.name "John Doe"</div><div class="line"><span class="meta">$</span> git config --global user.email johndoe@example.com</div></pre></td></tr></table></figure>
<h2 id="生成一个新的ssh秘钥"><a href="#生成一个新的ssh秘钥" class="headerlink" title="生成一个新的ssh秘钥"></a>生成一个新的ssh秘钥</h2><p>打开 Git Bash，输入如下命令，然后连续按三个回车即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh-keygen -t rsa -C &quot;your_email@example.com&quot;</div></pre></td></tr></table></figure>
<h2 id="将生成的公钥复制到GitHub"><a href="#将生成的公钥复制到GitHub" class="headerlink" title="将生成的公钥复制到GitHub"></a>将生成的公钥复制到GitHub</h2><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh -T git@github.com</div></pre></td></tr></table></figure>
<p>输入yes后回车，如果提示中的用户名是你的，说明设置成功。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;配置客户端git，让git可以push和pull&lt;/p&gt;
&lt;h2 id=&quot;设置名字和邮箱地址&quot;&gt;&lt;a href=&quot;#设置名字和邮箱地址&quot; class=&quot;headerlink&quot; title=&quot;设置名字和邮箱地址&quot;&gt;&lt;/a&gt;设置名字和邮箱地址&lt;/h2&gt;&lt;figure class
    
    </summary>
    
      <category term="开发工具" scheme="http:/dannyzhaoo.github.io/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="git" scheme="http:/dannyzhaoo.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>安装mockjs</title>
    <link href="http:/dannyzhaoo.github.io/2017/06/02/%E5%AE%89%E8%A3%85mockjs/"/>
    <id>http:/dannyzhaoo.github.io/2017/06/02/安装mockjs/</id>
    <published>2017-06-02T10:25:39.000Z</published>
    <updated>2017-09-05T11:36:37.000Z</updated>
    
    <content type="html"><![CDATA[<p>首先配置安装</p>
<h2 id="Node"><a href="#Node" class="headerlink" title="Node"></a>Node</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#安装mock，这个只能在这个文件中使用</div><div class="line">npm install mockjs</div></pre></td></tr></table></figure>
<p>​ 然后在这个文件夹中新建一个mock.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">// 使用 Mock</div><div class="line">var Mock = require(&apos;mockjs&apos;)</div><div class="line">var data = Mock.mock(&#123;</div><div class="line">    // 属性 list 的值是一个数组，其中含有 1 到 10 个元素</div><div class="line">    &apos;list|1-10&apos;: [&#123;</div><div class="line">        // 属性 id 是一个自增数，起始值为 1，每次增 1</div><div class="line">        &apos;id|+1&apos;: 1</div><div class="line">    &#125;]</div><div class="line">&#125;)</div><div class="line">// 输出结果</div><div class="line">console.log(JSON.stringify(data, null, 4))</div></pre></td></tr></table></figure>
<p>​ 在shell中运行，会看到相应的输出结果。</p>
<h2 id="Bower"><a href="#Bower" class="headerlink" title="Bower"></a>Bower</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">#这里是需要依赖bower，所以在哪里需要，就在哪里执行</div><div class="line">npm install -g bower #-g 全局</div><div class="line">bower install --save mockjs</div></pre></td></tr></table></figure>
<p>​ 然后调用就直接可以用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;./bower_components/mockjs/dist/mock.js&quot;&gt;&lt;/scrip</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;首先配置安装&lt;/p&gt;
&lt;h2 id=&quot;Node&quot;&gt;&lt;a href=&quot;#Node&quot; class=&quot;headerlink&quot; title=&quot;Node&quot;&gt;&lt;/a&gt;Node&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td clas
    
    </summary>
    
      <category term="前端框架/库" scheme="http:/dannyzhaoo.github.io/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6-%E5%BA%93/"/>
    
    
      <category term="mockjs" scheme="http:/dannyzhaoo.github.io/tags/mockjs/"/>
    
  </entry>
  
</feed>
